  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "employees"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (96.3ms)[0m  [1m[35mCREATE TABLE "employees" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar, "personalemail" varchar, "designation" varchar, "dateofbirth" date, "dateofjoin" date, "gender" varchar, "address" varchar, "admin" boolean, "phone" varchar, "active" boolean, "username" varchar, "image" varchar)[0m
  [1m[35m (121.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_employees_on_email" ON "employees" ("email")[0m
  [1m[35m (122.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (97.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171228051244)[0m
  [1m[35m (92.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171220120157),
(20171218100652),
(20171212102259),
(20171215072049),
(20171218103603),
(20171213094321),
(20171218115325),
(20171212101844),
(20171218104225),
(20171220101007),
(20171220122917),
(20171218115522),
(20171212095835),
(20171220123535);

[0m
  [1m[35m (120.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-01-03 06:49:21.903607"], ["updated_at", "2018-01-03 06:49:21.903607"]]
  [1m[35m (94.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$tdugpgtiEWbvzT2pi99h.u8aKya6QrnFvS3m7UQRqAziElh6vi1c6', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:49:22.187552', '2018-01-03 06:49:22.187552', 787258272)[0m
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:22 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.6ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.1ms)
Completed 200 OK in 6126ms (Views: 6116.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:49:28.680338"], ["updated_at", "2018-01-03 06:49:28.680338"], ["password_digest", "$2a$04$W7j9mXtwYxMEx6lzCLikAOuGiL3p/ZP7YRa/NPLDniInsYHG6L2IK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:49:28.735943"], ["updated_at", "2018-01-03 06:49:28.735943"], ["password_digest", "$2a$04$kPZnHllJVlgi/shse6F.gu3yw7l5syIa7eTXnbpNdyjhGai1wvSHa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$YMzPmFScry3g4bH9w/aQhu9hxAMrHubA7XzKZ2thZK9q4gbn8ktqm"], ["updated_at", "2018-01-03 06:49:28.752030"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$4ArsMLV5ot5qlYD18Su.UOfGwhK2IlofxnHXCkdomzPaQY7S5aZB6"], ["updated_at", "2018-01-03 06:49:28.765146"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BK8NO99w1FaeE29NydgVr.X78pfW34n/Y7iftgUeHuklbFrLlm21q"], ["updated_at", "2018-01-03 06:49:28.771322"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:49:28.822092"], ["updated_at", "2018-01-03 06:49:28.822092"], ["password_digest", "$2a$04$W0xo4CfSIxYTQpUoX2sGJOI4uFr3BY07xUf4l25CA/m6i4oxxr26a"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HmrPQ9cl54i/AVj0ohnlEuByp77X0T5ytq40VPqaZvGvpK9.y3BSa"], ["updated_at", "2018-01-03 06:49:28.939125"], ["id", 787258272]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$iP3s4GaMOuYNGd93PKr8wOfXigBkLHLWlmOjfbSlIAnGtqONcuGjW"], ["updated_at", "2018-01-03 06:49:28.956514"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:49:28.968208"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:19:28 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 06:49:29.017216"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 06:49:29.057075"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:19:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$VmJckvN6yrzPv1/O/jozaOOdp4rdziNqW03OFz1lDP5Wlwr27XmzK', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:55:49.124169', '2018-01-03 06:55:49.124169', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$yC.4n3A9LScYa6Cb8RZ6zOWoFAqBfJTnTgWxl/rQnLqXscdLbCYRm', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:55:49.124169', '2018-01-03 06:55:49.124169', 135138680)[0m
  [1m[35m (47.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.6ms)
Completed 200 OK in 285ms (Views: 276.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$q2lu.HQPetQIsl84VjiCROBhfB6G3p.vTOvYlsGm7PGnjF9fOdcce"], ["updated_at", "2018-01-03 06:55:49.609842"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$KkfiYIPWrAyZzdF3WAvgM.Jzg4CF0P.MCsQ2YB2QUbUEWATCQC6cO"], ["updated_at", "2018-01-03 06:55:49.616776"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$OMkk1kAbxGyNDLmlxs7k/uVKAQF/AZXsQhs0QwP9F.qz0ZBhaGjRy"], ["updated_at", "2018-01-03 06:55:49.630704"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (1.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:55:49.787114"], ["updated_at", "2018-01-03 06:55:49.787114"], ["password_digest", "$2a$04$4JrqSvqwJuMYxBfAEgafNezBuisWGTEF1JgIE03tTs/94YtABF0tG"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:55:49.877586"], ["updated_at", "2018-01-03 06:55:49.877586"], ["password_digest", "$2a$04$8c4cWMC0Zb.Ic5nvvnbaOu6eip6KysU8bXWMfonoyIFi1z9SfY1iK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:25:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cwshjxOPXiYPcsjoZhlBYO6C75YXUjhjeUDfgr6E5XXW37VsbCxHS"], ["updated_at", "2018-01-03 06:55:50.043512"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$i1kap.C2b1LVFvxiz4rmIOl5ZmGrcBAbUUgm4wrjeB8pK7avcrzu2"], ["updated_at", "2018-01-03 06:55:50.131107"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:55:50.142662"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:55:50.187301"], ["updated_at", "2018-01-03 06:55:50.187301"], ["password_digest", "$2a$04$bMGAfEl5jLZHad/P231E4OtWp1CkAkg1mSgd9YHtNBl6XlC0qVtoe"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:25:50 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$rIvXRvHJajK4cp1lknHSUeSADjfR9M9YUDMTNe7s.a14kxAyM4ziq', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:56:59.626927', '2018-01-03 06:56:59.626927', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$GL8s6Xe10BnNMG8MP5SL2O.Tiebs99Ecc5NZJ/iNOMRUVgspqnFs2', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:56:59.626927', '2018-01-03 06:56:59.626927', 135138680)[0m
  [1m[35m (72.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:26:59 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.6ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.3ms)
Completed 200 OK in 260ms (Views: 250.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:00.207216"], ["updated_at", "2018-01-03 06:57:00.207216"], ["password_digest", "$2a$04$dnvPxp5lCukg33eqPGvsquYL8szt0lJGt02ua/epbupgEg07LYCUS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:57:00.308079"], ["updated_at", "2018-01-03 06:57:00.308079"], ["password_digest", "$2a$04$Q73qEOWuL17QPVVVjtE7eeu7UAo3OebKwpJNevYbGYekEDHE1ZR9S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$vSS2moGJaNUfg9wD.uPW/OeYu65e70eczB1IlA.9cF24oJGbKZhPC"], ["updated_at", "2018-01-03 06:57:00.336559"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$SKkFALgnv7KEYpJP40l7Ru1H6nysUss4UX/Gl9Oicn6jKfi8ZAJ/m"], ["updated_at", "2018-01-03 06:57:00.345407"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ZM.H6TU6MDGavoJQruGHcOD29Ue6ZlKtKbnNOELtFUZ1v3DwPFY5K"], ["updated_at", "2018-01-03 06:57:00.362349"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NcbljNIudF2xxGHCZS1BMe9Kcb1Exku0V/2anFvUKrOMxcZDfcumi"], ["updated_at", "2018-01-03 06:57:00.411661"], ["id", 787258272]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.3ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:57:00.424817"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$J16b/U4woGUMz1XkXjGeeusMVndflRtfp1MZBbHzKYGx9bx.uf0aS"], ["updated_at", "2018-01-03 06:57:00.443482"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (8.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:00.702091"], ["updated_at", "2018-01-03 06:57:00.702091"], ["password_digest", "$2a$04$TJA1tH11MhjPvBj3kwDF1uFIEYNZkcv3o3B1ZGZE2f5r7KqOlijpq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:27:00 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$AApE35w7U/3nfwwI8IQ4euwI83VLgiaJY1kn0VbOHqS7gR5xHlM8O', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:09.354414', '2018-01-03 06:57:09.354414', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$/ZiCm.XBGAjkCPqd9UMsfuXXankXbwan6oa5wzcIDZswA480dYnau', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:09.354414', '2018-01-03 06:57:09.354414', 135138680)[0m
  [1m[35m (76.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:09.619835"], ["updated_at", "2018-01-03 06:57:09.619835"], ["password_digest", "$2a$04$7LD8ufdfLPnmpFwTn/c9NeuV4nhCKDCBNTZ7oC8KxNTWaQat381G."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
Completed 200 OK in 251ms (Views: 248.5ms | ActiveRecord: 0.6ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 52ms (Views: 50.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:09.979230"], ["updated_at", "2018-01-03 06:57:09.979230"], ["password_digest", "$2a$04$uqYlOX.J00O.jvMrg5u3N.dKZgB23IqnlGX4rfP3Ts54Ma1C0TG5u"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:57:09.999930"], ["updated_at", "2018-01-03 06:57:09.999930"], ["password_digest", "$2a$04$F.sHEOK/Fl.xqeeSuE/wgu398CeBJpA.aXwf69/OI7cuyYIRFgquK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.7ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$SxLuK36K3BDbNUVdJZAQJes0YMl.hYS9JYacS13stUZ9SwOToMGTa"], ["updated_at", "2018-01-03 06:57:10.250909"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7JpQuzhOvwA5I470aXC6X.2ll1bX1/LYJF8qV/8teo4v755eyPhrS"], ["updated_at", "2018-01-03 06:57:10.276326"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:57:10.288853"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$P0g7vO2QKGAooozq9uJaROXDknSdslo0JlUYnx06EL2Mk9TCcprg2"], ["updated_at", "2018-01-03 06:57:10.335694"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ui6MSZ57YLPk6JGSjhMxuujUOmvOWSnKUNAmVEeVYcvq/F5OXX4xy"], ["updated_at", "2018-01-03 06:57:10.342396"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$M0Hl91LWskCb2si9s42k1u6ZLNZ19GllormFkQbpncOS4JGoo4YWq"], ["updated_at", "2018-01-03 06:57:10.353914"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (9.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 14ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:10 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$yLXrPDDcENN9SbLunaZ7pui92.arQJM1rk57Dtw06d2DlsA2iZhMO', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:23.027380', '2018-01-03 06:57:23.027380', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$d1TDUqFpb1C4020MqA7lcO4nGynMBUfZvYHC.kudfc490XXKLpDi.', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:23.027380', '2018-01-03 06:57:23.027380', 135138680)[0m
  [1m[35m (72.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$05.W6xHgq/RrwYrvKukWkueEoSZa0VrQg7ZPTXeK2ywLW/AakubQi"], ["updated_at", "2018-01-03 06:57:23.265412"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 24ms (ActiveRecord: 1.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (20.3ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 266ms (Views: 264.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$qBVleIsUi/vuvZhvYFWJwuztGIhllSGBNwN5p.UpcRFC1lvTKkysy"], ["updated_at", "2018-01-03 06:57:23.627808"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:57:23.640242"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$bMI0x0IjSrSDgLeLW6DJ3eZp5rqx9XNRybDXOvOudLStkx5C7Lyem"], ["updated_at", "2018-01-03 06:57:23.652004"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$crelFrmJxaKomjPNF73GyOca42iSZDJy7om7WjJrdZqH9A1IwAklG"], ["updated_at", "2018-01-03 06:57:23.658911"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$JP6TMckYN3/zOcDIT9CMFOuWIiD9CBuZh8H9U.LXl081CtTW4eZQa"], ["updated_at", "2018-01-03 06:57:23.697127"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:23.918220"], ["updated_at", "2018-01-03 06:57:23.918220"], ["password_digest", "$2a$04$CuNoEu4U/oyQTFsJ3drnGOJluDpE0XSsSXu9hR1WwU20o68N.YzEi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:57:23.995727"], ["updated_at", "2018-01-03 06:57:23.995727"], ["password_digest", "$2a$04$8UC8zyOKzt0Wx5RF0HoUhuLJa1Tkj8B1vFXYxbpGPDxkuqkleOroS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:24.078055"], ["updated_at", "2018-01-03 06:57:24.078055"], ["password_digest", "$2a$04$ylleCBMTi0YV2rVxR2xWmO.39kib9zGDMaqp10GOFHrh8nVtNQ2Ai"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Mhk4rGsQXSZgWGDiZzrphehB3hTzDZ65CsCPNkCRRvfdu3pKKPx1S', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:44.471694', '2018-01-03 06:57:44.471694', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$p4CeIt9YJh/I2PAPnL26nexUGItmxw//F2keWWgDb0YWyleEhpA3.', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:57:44.471694', '2018-01-03 06:57:44.471694', 135138680)[0m
  [1m[35m (83.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.7ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (6.1ms)
Completed 200 OK in 268ms (Views: 259.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:45.060553"], ["updated_at", "2018-01-03 06:57:45.060553"], ["password_digest", "$2a$04$fSwKXwADbE5dnIz3Yuceeuju2EpShsMKERL2Qoc..t9DWeMJ.icrm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:57:45.136496"], ["updated_at", "2018-01-03 06:57:45.136496"], ["password_digest", "$2a$04$.1bLh7GajArjdJRLPcBsaO93zamCbkRiI5bcRfNkEZHsEx5Z8X2xe"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:57:45.161203"], ["updated_at", "2018-01-03 06:57:45.161203"], ["password_digest", "$2a$04$OBKCygq0C3YkSZwx1WxF6eWafjNooS1gAl7i5L.Ev5JbPPkUkK6O2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Sr2wmoLe2ors71ATqgPwFOmiUqyolGrzj7SbWbOEPje9E2/knf4ti"], ["updated_at", "2018-01-03 06:57:45.226826"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HOMEK8AHwEqpWKvepRYwQuUwjlLUEcV0kksi2pu0A0ZPe6.4aB7TS"], ["updated_at", "2018-01-03 06:57:45.240198"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$lz0lD3cWfp4MDhvr1xU/a.gMgayLJZekUVTadZAEz/fJI2Fx8FWoS"], ["updated_at", "2018-01-03 06:57:45.246049"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$UZCwgXCvH2OTCRrDFHUwquq3ZJ.3TPTZL3E1bw86gwnG1wDIdBjsC"], ["updated_at", "2018-01-03 06:57:45.364659"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:57:45.379268"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2r6mvzjHU8aB88SK2kIX2.2qCDV/NmreL6jGXt7dltzHbW9W7QK7S"], ["updated_at", "2018-01-03 06:57:45.397910"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (8.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 18ms (Views: 15.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:27:45 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$xrqtBRcCkuDqo968A/iLCuShQ9xwDi8R90XxKUVCJeDjida9yvaH6', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:58:14.190059', '2018-01-03 06:58:14.190059', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$JjfH0OFgrHk.nSpXCWOyn.O3rnhFgcQBW/cbv.WKXNAgg5czFUpVm', 'admin@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:58:14.190059', '2018-01-03 06:58:14.190059', 135138680)[0m
  [1m[35m (68.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.4ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (7.9ms)
Completed 200 OK in 304ms (Views: 294.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:58:14.755202"], ["updated_at", "2018-01-03 06:58:14.755202"], ["password_digest", "$2a$04$9GSo4Kq4oMeMGRxU7IE.auomYiyD3xWOlSWu.K8hNjvejgsyQkWYu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 15ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (16.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 0.6ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (8.5ms)
  Rendered layouts/_shim.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/787258272/edit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cUUTZ4bIJQ9b21KBg/gGdeMnrJ/4hoQdv8Yms4UYJ.X1ITJ7mdRB6"], ["updated_at", "2018-01-03 06:58:14.935391"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2Ibxfe4az.auqrnPm94OIeFAN/AYKpKFxudpp3yMqDXxE1WTQjA2W"], ["updated_at", "2018-01-03 06:58:14.943940"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ndF4MknED5KVs7x./aSvAeMg6daesGNtMu2CTkv/OV9xrUdLl7bAC"], ["updated_at", "2018-01-03 06:58:14.956061"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:14 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:58:15.027659"], ["updated_at", "2018-01-03 06:58:15.027659"], ["password_digest", "$2a$04$UN7HPdyRmI.tExeDA9StH.V20IaUhww0wnIBPZp9NrxABtkyENjI2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:58:15.100062"], ["updated_at", "2018-01-03 06:58:15.100062"], ["password_digest", "$2a$04$ZptcWuPduQq2u8Ub2z7VsOmprytPFCttl8PHNFCGJ1cCqs3OUtCmS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$XnREzDQanhqsozHXKgSAleTkVK5QKfVp4zVY9Nn5fIqjeE3MMWQ6y"], ["updated_at", "2018-01-03 06:58:15.146328"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$uDpac42IxaBvOCmFqPHD6eog88ZgwVWRygbUKF9Tj6nqNvb5l32oi"], ["updated_at", "2018-01-03 06:58:15.220566"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:58:15.232366"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$/EHqOSeEPD45BAaoqbT9EORv.nt.b1J2CXf2vrdON8UxVns6bCfHO', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:58:43.585470', '2018-01-03 06:58:43.585470', 787258272)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$qnpBXTk7NRVAtgZ0YgME3uyPPML5f88vSiu6RWKkwNyNwGv1WLDL6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:58:43.585470', '2018-01-03 06:58:43.585470', 135138680)[0m
  [1m[35m (70.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (19.6ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (8.1ms)
Completed 200 OK in 357ms (Views: 346.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 50ms (Views: 49.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (9.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 06:58:44.357030"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 21ms (ActiveRecord: 2.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 0.4ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 06:58:44.419097"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:58:44.477552"], ["updated_at", "2018-01-03 06:58:44.477552"], ["password_digest", "$2a$04$y7nLyvfZR9czYPhI67LHXOHC0pwbXF7LpOy.Wb7CC6SS6RGiRLzEK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$X7wxJATARtxS3ShFlBOXt./mOG.7scG23f9BE3Kgp969bO0TvBpGO"], ["updated_at", "2018-01-03 06:58:44.519161"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$w1254VeGdJsv0DDcH3uBCeyjrLNqeKKgk7eKGW4DbDVTHOKeexQBW"], ["updated_at", "2018-01-03 06:58:44.544378"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8dhlZ568DPXfSEG58WaXfuGY7M8EYjLTOLVEndyclJZGVlkegnl/."], ["updated_at", "2018-01-03 06:58:44.551969"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Yfa9.q9sDc6jt4zx8ksitOKQpIu.8TXd3tmlxNWXq7Ssj1PEvC51q"], ["updated_at", "2018-01-03 06:58:44.655922"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$D0GjV7aPwpJsuMj8Lm5bteJw.qzX/uqlMezt6nFSlnhHJ2cLhuSZW"], ["updated_at", "2018-01-03 06:58:44.753991"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:28:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:58:44.767831"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:58:44.833070"], ["updated_at", "2018-01-03 06:58:44.833070"], ["password_digest", "$2a$04$K2Asx/dj2XDqziI98MNiY.3gWKH1te8JAtdgEzu7tkGnkoDaMWG1q"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:58:44.851508"], ["updated_at", "2018-01-03 06:58:44.851508"], ["password_digest", "$2a$04$4kVT5dNU4khOqUiqYYC27OrQ2mtnlNpWf2USG9X4FNj1/x0nIJwGC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$rs0SalCpDZsfxVfSHgdite.BPMbchM000Qbap127koPG11t6K478G', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:59:24.328099', '2018-01-03 06:59:24.328099', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$uSGArySnvN49s70wJtK0R.8h.2rHqiDXJNh6e1/J.kOQ9DSaYclRG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:59:24.328099', '2018-01-03 06:59:24.328099', 135138680)[0m
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:59:24.477297"], ["updated_at", "2018-01-03 06:59:24.477297"], ["password_digest", "$2a$04$SD9z3Lt0euJTmu2gnAAYpexAivMub2MjB1ANbCJPRY8txIU8kS3.G"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:59:24.500968"], ["updated_at", "2018-01-03 06:59:24.500968"], ["password_digest", "$2a$04$SdylFQc6b8sL.7DZwsZhSONA8KGZ55cYE0KfRtTeC2mVD1T.HBntO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (7.5ms)
Completed 200 OK in 259ms (Views: 249.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (37.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:29:24 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 06:59:25.017633"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 06:59:25.060882"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$K1X0FL1db9e5xf5RmC1t9.c5BDigMaRwJKQ47tfkozZenL4v971wu"], ["updated_at", "2018-01-03 06:59:25.207089"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$IcAsqV/rEl8rB4RbU7yjn.EBsWPVz0WrVH8tvMVj9yrFf/4QTWvCS"], ["updated_at", "2018-01-03 06:59:25.273910"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:59:25.289509"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:59:25.315875"], ["updated_at", "2018-01-03 06:59:25.315875"], ["password_digest", "$2a$04$mQTcgYbLXhFzikIg9qkJ7uNBsHry4irt7Ms2pA6pf/pQaYK.Yy2Oe"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (1.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$e/U5bRlzdF87n3H40eEdt.d8qy92yhpk.4dsLQ4nZPgKGuyqJoMOe"], ["updated_at", "2018-01-03 06:59:25.412696"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$sS5nx8A7W2pC4DrCiCCg3ud7EXReDpxn7p5PJ.XqQpdH.1Zs6UKWi"], ["updated_at", "2018-01-03 06:59:25.418579"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Q0yLS.qNesP0xH15W5T.GOxczvtbKRHmbvnESSlsMTUYZ6irA4Aq2"], ["updated_at", "2018-01-03 06:59:25.430880"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Qa5IO5DdWtkqphTX/fas9uAgoMtZ2k3sy50q2VMOxjwzi.Mki3RtC', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:59:41.571495', '2018-01-03 06:59:41.571495', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$x8wDIP.tbQh1Z1f03ChoPOQcFz2M6pJVN7jzrg46U7iIH4/nLZTQa', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 06:59:41.571495', '2018-01-03 06:59:41.571495', 135138680)[0m
  [1m[35m (57.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:29:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:59:41.837058"], ["updated_at", "2018-01-03 06:59:41.837058"], ["password_digest", "$2a$04$FdjQlVbq7RllvtnGpEnRA.t7USvFTHY5oUVk4fIcK5B62knerzpYy"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 16ms (ActiveRecord: 6.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:29:41 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
Completed 200 OK in 249ms (Views: 246.5ms | ActiveRecord: 0.6ms)
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 06:59:42.164757"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (22.6ms)
Completed 200 OK in 30ms (Views: 29.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 06:59:42.234929"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$AzKvIKGMDMBvdNp235T6m.pZxho0DDdsRa7dnmruxtjBf/Ag1.UeC"], ["updated_at", "2018-01-03 06:59:42.252711"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$dz.7KBuUX6.toR8sYLZpBOSxKgmFLlwSRcVlyQ24D.D3VuaMTFk8q"], ["updated_at", "2018-01-03 06:59:42.272190"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 06:59:42.282427"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$GBOfw8Bk6aGs3vx.AqEChu8FRwKWJNLSzV.yADGRtx5Tj8keG4jA6"], ["updated_at", "2018-01-03 06:59:42.457603"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$iIE6aKUY4cgwSEeOfx6Ute/XC.HYZ9r.u5nTHR.whZV3l04apvxsy"], ["updated_at", "2018-01-03 06:59:42.463741"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$TbNvi43D6VdH8PrZ9CPy3u4uINKZhRVWPoYLxwdmxEmnHUDZFYt.a"], ["updated_at", "2018-01-03 06:59:42.477986"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 06:59:42.497458"], ["updated_at", "2018-01-03 06:59:42.497458"], ["password_digest", "$2a$04$bHLY2d5adVh0aOSB1ZIfHeoxMa.8tRFvDJCEeUb/xEG2MWFhKuRZu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 06:59:42.546222"], ["updated_at", "2018-01-03 06:59:42.546222"], ["password_digest", "$2a$04$LxtqkoGfOEoRhdZD8kP.j.2C0GQoxSiCpVmQTwzbf4deatvYCOwTC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:29:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$9XriNp0CH4X56doCY8dRmusGxs/6/VEP7O5ko..bpMarbC2/lCXjG', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:06.969333', '2018-01-03 07:00:06.969333', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$UpZVXcpP4a1tBmlK2tlbCuWdTcbqoqE0UgzxK6ru9PiFEArgW1W/e', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:06.969333', '2018-01-03 07:00:06.969333', 135138680)[0m
  [1m[35m (72.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.4ms)
Completed 200 OK in 271ms (Views: 261.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:00:07.490642"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.3ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:00:07.536295"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:00:07.549640"], ["updated_at", "2018-01-03 07:00:07.549640"], ["password_digest", "$2a$04$RCki0Wd87ouvl64EyFhAe.dh/q9a7EY2kG5pjpFX1Qrta7nkKDyNW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:07.620041"], ["updated_at", "2018-01-03 07:00:07.620041"], ["password_digest", "$2a$04$Vp6CLsEPAedtxADtFkJtfekQjKcX3nO6TH2c2BQUeXT0F2vhxyHii"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:07.771255"], ["updated_at", "2018-01-03 07:00:07.771255"], ["password_digest", "$2a$04$HfwSHDoN6RAjsQH2aRMYWuURgdYpv3nrgI6q6/oxnNLY/dWjs8Au."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$mpgw13.64Q8jcVD2Ymq3le6lXvGnlXtN/PEOh0Lm0Vr8l7Egj.FIm"], ["updated_at", "2018-01-03 07:00:07.802225"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$hQ/gHrMqGgAJ9fQvJ6YDCezxa5kP7Uiy/Eog/9t49SmZEkM/xgviC"], ["updated_at", "2018-01-03 07:00:07.819296"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:00:07.829851"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9VEIGccVzo6wUvVcW997Iuq/uHaCfoGv.8KH1LJqqYbL3lD1qzt3u"], ["updated_at", "2018-01-03 07:00:07.958290"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$UpHVdCNBdS.gF5TF4KpUGO7QIGYtYq3I5MW1NNJU4PgGr85WS5Tt."], ["updated_at", "2018-01-03 07:00:07.964499"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Nr6fvFaKvPg6FJa/nY/t4.vyWNe7rjZauPLe76KBl9Q5LzxCB04w6"], ["updated_at", "2018-01-03 07:00:07.977426"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$8OzUrdZZv6v0YGqxnXbxU.GD6Q20HECymaqmYLjnH4mLimybK20o2', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:17.499395', '2018-01-03 07:00:17.499395', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$kwZqjpxxGwp2swvqK0z7HOzg5i6El5Qk6tH/soMo6Vj3L1qrIXBwm', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:17.499395', '2018-01-03 07:00:17.499395', 135138680)[0m
  [1m[35m (97.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.4ms)
Completed 200 OK in 264ms (Views: 254.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:00:18.094941"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:00:18.141595"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (8.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cwhsNoOdaijkWIQR2TG7feQu2cCMC2nUkNGTCf5EnjamdfjfzbWIe"], ["updated_at", "2018-01-03 07:00:18.268323"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$e65iS0BhLNO5ucQ8qV1PweJYtDVLlnw2E.WgzPASef66UeqyjIPKO"], ["updated_at", "2018-01-03 07:00:18.277066"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rhQ1B.4G8gKwqFDGLpcHNeqHuN0w6W4o/kEeqaCBy.O50EAig/vTu"], ["updated_at", "2018-01-03 07:00:18.292009"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:00:18.377535"], ["updated_at", "2018-01-03 07:00:18.377535"], ["password_digest", "$2a$04$/uDvNcYOMdebl8g8kAzxX.BLdRUcWmtudOezOFd7msn65nQuMWm4a"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (1.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:18.401907"], ["updated_at", "2018-01-03 07:00:18.401907"], ["password_digest", "$2a$04$eBX5jNhBwM7anHVsK9nWReGrJaLd7cObd09P6QXBlHLq6mR14tHnu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:18.511357"], ["updated_at", "2018-01-03 07:00:18.511357"], ["password_digest", "$2a$04$MEM0zrxWIYqdF7hfiT6SiOirOeoUibt912ArXU77KzyOpUTYqyqzm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$EPai0NZHikQGz6R1B934Rurc86Di/aQpz5GSnMGaV7WAaDwYWKLmG"], ["updated_at", "2018-01-03 07:00:18.587036"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BFzpfxfTyJGSEk/wp1paF.raoakHcEcuBfAAdfd2On5C56l2ellAO"], ["updated_at", "2018-01-03 07:00:18.642235"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:00:18.652405"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Oi6E51/mQGvNuVM056aokOrf8M5MYLjRHVuVGBuR.oXqbrqPxEOfi', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:34.888262', '2018-01-03 07:00:34.888262', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$Du2lpaSEp9E6AeiJ3QM8au7xkGskMWipo2Nvt906W0cDJKjYk7LPS', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:34.888262', '2018-01-03 07:00:34.888262', 135138680)[0m
  [1m[35m (79.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (7.8ms)
Completed 200 OK in 268ms (Views: 254.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ckFdTXjB9OBQ1zYkUclPZ.gb/HIzUsg3Tb9h4bhJhclrgzART8/U2"], ["updated_at", "2018-01-03 07:00:35.403605"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7pLHwcF4VCQhO3P4Ipa8Lu6LyObcGIQki4fEHQUPXZEJkae3K4EP2"], ["updated_at", "2018-01-03 07:00:35.410542"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$/d.dga7PWp8Sk7sz6KTqLuVCfHEyzzs/4XKEQjv6L3RQnFyK34xuG"], ["updated_at", "2018-01-03 07:00:35.425634"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:00:35.507334"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:00:35.548615"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$GMHawmE5gLXSgpCJnlIgD.z.luXPO3TH3fo9fBvHARVnF08hVm4DS"], ["updated_at", "2018-01-03 07:00:35.613135"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HCidoYkFCGjCFrTBIXfF5uKCBCzc2m0texOwetWK3ErK9V0mx0PyG"], ["updated_at", "2018-01-03 07:00:35.629751"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:00:35.642517"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:35.807921"], ["updated_at", "2018-01-03 07:00:35.807921"], ["password_digest", "$2a$04$codTN.DstoVVHdcvLGA84.ayPkaSRfdCBUHhsof7Q0ufxtGhaGlzu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:35 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:00:35.882580"], ["updated_at", "2018-01-03 07:00:35.882580"], ["password_digest", "$2a$04$Tx8PycvksI.AR9OOnXZdS.8Q0mp855JgwAhZYsbodBBVPQmAqCr2S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:35.914351"], ["updated_at", "2018-01-03 07:00:35.914351"], ["password_digest", "$2a$04$x6B8l96/o/L5Q8aiziZ7O.P2P4UOjA9aXecXqQ8cmxCckQuEShUVO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$I5INhBpV29FH0ymhw3fQtOWsRuBJRYSdlvwvbWyRR8UwPWOQUCu2m', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:43.631048', '2018-01-03 07:00:43.631048', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$bMQgHKym.3AbC6QbZVpAKOgtUo1xDx0lgewdU1V63oAjB8fQ5K9Oi', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:00:43.631048', '2018-01-03 07:00:43.631048', 135138680)[0m
  [1m[35m (67.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.6ms)
  Rendered layouts/_shim.html.erb (1.5ms)
  Rendered layouts/_header.html.erb (7.7ms)
Completed 200 OK in 371ms (Views: 360.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 45ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:44.339917"], ["updated_at", "2018-01-03 07:00:44.339917"], ["password_digest", "$2a$04$okSzjmShKT6QH/6LHbMIVeGraPUYf.InH1WbfamMxLZunrSfYf52q"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 20ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (12.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:00:44.523057"], ["updated_at", "2018-01-03 07:00:44.523057"], ["password_digest", "$2a$04$dZ2PenSa1r5aqqDBj9mbGOKdhl32abMELEk1n49LfMaehyaPP/as6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:00:44.641523"], ["updated_at", "2018-01-03 07:00:44.641523"], ["password_digest", "$2a$04$6/af53hM.x/.nyLm.ryNUuDbAvmSs6ml7a8lyixuvZqmk7ZHv469e"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$XKXtXAFvRVFBG3RFrmZcY.O7Ml4Q6P78QCRdr36tB2IFTvQ6a30ze"], ["updated_at", "2018-01-03 07:00:44.679776"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Vz.GE1XKLs/NUBDNzzYuX.hf1eVxQV26S2mo41Vp45tfm98Xtobb."], ["updated_at", "2018-01-03 07:00:44.691255"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$G29kaeQ0pYkVhyJ3F/ztUu8eomgGL8cusCp6S68mMEMhGhPyUp1Zq"], ["updated_at", "2018-01-03 07:00:44.708897"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9Bb17kYBwiW8RX0DXdHkV.kJB795xNZPlsC2J5hNIlX04iEWNhR3q"], ["updated_at", "2018-01-03 07:00:44.814408"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 1.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (1.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$k.WkqLvEar12/V/a70yJ6.D5Wdi2wOmsP2lszPpu4z8akTG5ohzkS"], ["updated_at", "2018-01-03 07:00:44.897178"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 2.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:00:44.911111"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:00:44.966764"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:30:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:30:45 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:00:45.018374"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:30:45 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$nA/FkFWLFT6c3UDpkiX/6OZ.4pYA9Kk9aA2Sdzl8zwhemh7d3uiPi', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:01:17.650355', '2018-01-03 07:01:17.650355', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$9aqXvXjXMShe7YpIXtFf0e6jz69sQOE3HbdcolLcpEa41uUW2giqG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:01:17.650355', '2018-01-03 07:01:17.650355', 135138680)[0m
  [1m[35m (83.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HckJ9Pam7JeL.2WqDzLjq.L/7M5XuBHO/TX0M7rm/SFFFkCpASbbC"], ["updated_at", "2018-01-03 07:01:17.890161"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 26ms (ActiveRecord: 1.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:01:17.907988"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (20.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 260ms (Views: 258.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$xLHi3p9iAHA5I8gOvptAvOFI5984jetbw3t2M2BA/wlcIUr/ijd/W"], ["updated_at", "2018-01-03 07:01:18.254841"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:01:18.335264"], ["updated_at", "2018-01-03 07:01:18.335264"], ["password_digest", "$2a$04$Hp.DMQdEBGV62FCYtppohujbp/5oyirM8Hi43R1gzYv.0N2oi19OO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:01:18.450095"], ["updated_at", "2018-01-03 07:01:18.450095"], ["password_digest", "$2a$04$ySYiUFMCwJWVXawK3ZsGcu4rbT/7PDSUnNv51/g.Q8Pd9eGzq/vrK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:01:18.487794"], ["updated_at", "2018-01-03 07:01:18.487794"], ["password_digest", "$2a$04$vEjrMQxhcVVq1VwVxNFkwu6dyzhz4l.fcch5zkADzOLXD4pZHP6Qq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yXBzCh7rGmiAbA2pYuNWDOjrnxZrDeDBaiNJUJ6SYGNnqnY9OGUNK"], ["updated_at", "2018-01-03 07:01:18.570507"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$xBdbxVWkY0B5T5o67an.Ae.6WodSLe/XnmNS1ky14sBV1ELWMEPR."], ["updated_at", "2018-01-03 07:01:18.590250"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$jteOwY9AOygIqHUTR9TgrOzY96Ouec9aEPEvrafpoZ50/gcPlnbJS"], ["updated_at", "2018-01-03 07:01:18.598980"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 18ms (Views: 11.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:01:18.685333"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:01:18.743771"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$zjkcn.pYaOSZB.5UxapFJO8M.7TBShccH4N1BbbEvjL9vj.EM53vu', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:01:37.395802', '2018-01-03 07:01:37.395802', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$xs/1W5As8duLibuLB43e5u.PoPEr6HV13v.oQh9dDkMpUgeIu7xL2', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:01:37.395802', '2018-01-03 07:01:37.395802', 135138680)[0m
  [1m[35m (61.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (14.1ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.9ms)
Completed 200 OK in 276ms (Views: 266.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:01:37.885410"], ["updated_at", "2018-01-03 07:01:37.885410"], ["password_digest", "$2a$04$E9eorlBPtCwzxRWrvMduIeZDeCmUScjcoI70YzE4LmonFrbqO9n2W"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:01:37.901197"], ["updated_at", "2018-01-03 07:01:37.901197"], ["password_digest", "$2a$04$/r2.TeNJBs9lLo5o6pHi.Oefnkw9l/J7Gam6kYzJtXzxUBP3E9Ada"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$TO7uM0HHidMBWC6OJ4nWseOAQ1Xftfzzkfnx.jIoabOK3inW0xaZS"], ["updated_at", "2018-01-03 07:01:38.032437"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$VD0.HfTTBrW4mHRgEKu1meJXOgySZQznPEV8AI60YZfoOtQrbP.k6"], ["updated_at", "2018-01-03 07:01:38.135173"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:01:38.146777"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:01:38.205098"], ["updated_at", "2018-01-03 07:01:38.205098"], ["password_digest", "$2a$04$htvOjKC/n6Uh38anyiSf4Od03xGE9gshrhUrlLlVnrOM1Cu5YYCaC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:01:38.516554"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:01:38.560561"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$dls6V0dXbzA7ZfXpgVDED.XX2xjuw0MjTin0lv1ejZmZ/1Rb6XuXW"], ["updated_at", "2018-01-03 07:01:38.572371"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Q6agJ03kl5yfNt6Q9LAbAOYshLsA95tzDngdg5pM7TpEcpZOTlw32"], ["updated_at", "2018-01-03 07:01:38.579420"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$N69LwI8dLORUWJvTD4PQsOBGs0KzdBqVLIaP/98A.yGYEkwmA8/PC"], ["updated_at", "2018-01-03 07:01:38.591368"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:31:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$tNcopr6rXwg53X8Vq4xmLeVbsgnjlQyZVHlbxCSZGTrYKiVgE1U6K', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:02:16.639097', '2018-01-03 07:02:16.639097', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$qb6lpmUY61nUUmkCZGA1t.xKwS4ro8wIrUZK9pOa7rAINdaZE74ny', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:02:16.639097', '2018-01-03 07:02:16.639097', 135138680)[0m
  [1m[35m (83.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:32:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:32:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:02:16.894627"], ["updated_at", "2018-01-03 07:02:16.894627"], ["password_digest", "$2a$04$A5gnUMdOngL7XtHCSLVRm.gXGv805kBndTzFCUjYqQRd2UBfEtLEm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:32:16 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
Completed 200 OK in 277ms (Views: 275.1ms | ActiveRecord: 0.6ms)
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 19ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (8.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Uen/WAZce0qD/YDJP4mVcOIroY4brG9XiRurXnN2z3FiI7JOj9XDO"], ["updated_at", "2018-01-03 07:02:17.291591"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$FuyIHWJnaOPnrePZ2Z.nFu51qKrdo.3xES9IBIVldSU7zGlQBjW1q"], ["updated_at", "2018-01-03 07:02:17.413843"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:02:17.428625"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:02:17.503540"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (8.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:02:17.551676"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:02:17.564777"], ["updated_at", "2018-01-03 07:02:17.564777"], ["password_digest", "$2a$04$aOLf7G4EqBjM.XLWIy0b6O3/8aCVwnLuxnYHX2wSd4uDv744p6RiC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:02:17.628950"], ["updated_at", "2018-01-03 07:02:17.628950"], ["password_digest", "$2a$04$UmdYFuEV4nu.aJjjGaXZt.aamSuN6hOvjWZCmD5rJmr.vbwnJEesm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:32:17 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$KzVWxzLScqDMWTQuIgpDkOmmk.Nb.cgm2.SRcS/RKmU0hYiRApJcu"], ["updated_at", "2018-01-03 07:02:17.751003"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$86gFZhu.Rjnmiel.6SK1DOCguUSrD20oXewcKfiBQa6ISIgSiTFXy"], ["updated_at", "2018-01-03 07:02:17.757168"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yrHtceX7ChWP60dmgxNwDuzIhDU.KdJNp2duwq7252HVfO8ROSx9a"], ["updated_at", "2018-01-03 07:02:17.770227"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$BtP5KNgis0t6.ATelc0Wb.uscbcRTmfajwG9tzW9ZXi55Qq76HrMS', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:03:15.992303', '2018-01-03 07:03:15.992303', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$7c9HvsjFEKrYnGzIynE42.SmGFSKDOfwaYdPepPJcWcNrwau3RF0i', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:03:15.992303', '2018-01-03 07:03:15.992303', 135138680)[0m
  [1m[35m (74.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (17.6ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.1ms)
Completed 200 OK in 286ms (Views: 274.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 39ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:03:16.606715"], ["updated_at", "2018-01-03 07:03:16.606715"], ["password_digest", "$2a$04$aGKAS5CBrnYfYCHAiBwcEu.BsCnJTICXXShBKDj34PBQ70r1ii4yW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:03:16.652964"], ["updated_at", "2018-01-03 07:03:16.652964"], ["password_digest", "$2a$04$p4nJe4ziWpNxfJ66/utQN.9QFYmrLnQr1ceofs0aumNv7y18l7/8K"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:03:16.706424"], ["updated_at", "2018-01-03 07:03:16.706424"], ["password_digest", "$2a$04$J4ryCeIndfuKCTZA7bfcWejQFF7ARQVMu2sTKDElyeQoHm.AYmSeu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.0ms)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$1HFi6T3Peb5d6MFRXrusyucSGb060tfmYLDf.ryg4Jkm64Gmh7Cf2"], ["updated_at", "2018-01-03 07:03:16.909888"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:33:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$3so66eJy/uyW29daim7z5ucHUQDrj7TCUyyWx3PG6mDXuGpnCajea"], ["updated_at", "2018-01-03 07:03:17.021194"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:03:17.035932"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:03:17.090837"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (12.9ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:33:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:03:17.154712"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$KB.v6Rx1EarM5d/eCkREc.0wkdTZPn9Fejmgp0fAce1InvJz4YxG6"], ["updated_at", "2018-01-03 07:03:17.165901"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$5XTiNzUAVX23sHLlyrVuzuBvH3cmhHG9WnEcQJEqmkvTuj4rVX3VC"], ["updated_at", "2018-01-03 07:03:17.172807"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8lBCIBbO6RVZlJkDvjV99u.bMw8BiBUZacABwxNV6Y5u.fPzPubxW"], ["updated_at", "2018-01-03 07:03:17.184548"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Z2/YF8H4sD1w7gEhtGMKDO.gqt3su1nSpWKUlJ.iTWTTbk8gm2KWi', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:22.763677', '2018-01-03 07:05:22.763677', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$JJ2bBxLvAp9spHEUhN96g.XNH89UX010JPLS.HQj8pplE/5r/RMTK', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:22.763677', '2018-01-03 07:05:22.763677', 135138680)[0m
  [1m[35m (91.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:22 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.4ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (7.7ms)
Completed 200 OK in 289ms (Views: 280.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ve6BsbypxDfuhh0AuFjSI.URg5.r4up8/xGbD5QuFmdVpPLAJgE.u"], ["updated_at", "2018-01-03 07:05:23.304722"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NSA1TvehNffk73JxnTjCku5.nl1RQbRIwsfu.Vr2cM83gcnt7Lc66"], ["updated_at", "2018-01-03 07:05:23.312457"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$sitOSkdxM6EfRYvVwfXCZ.b0RuQ70ofQK5yuZ3aQI5ky61gk8z/s2"], ["updated_at", "2018-01-03 07:05:23.332009"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (20.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:05:23.421083"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:05:23.470068"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:23.602014"], ["updated_at", "2018-01-03 07:05:23.602014"], ["password_digest", "$2a$04$LnO2SQzqzUbekody8KreaeCjiepVJj.Ebbhz1feeBI78pjGFJRkLa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$xR73hwCi3cEgY0qUfVArSOKDGQQ.eyP5gDJJEm7jPEtPs2hK6nOxe"], ["updated_at", "2018-01-03 07:05:23.717137"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$AW.WxYA1QXzS2lYUF9f3X.hFQoYR4/Rk7e4VNBbdZNdx9hdrerWhm"], ["updated_at", "2018-01-03 07:05:23.741201"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:05:23.755611"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:23.792662"], ["updated_at", "2018-01-03 07:05:23.792662"], ["password_digest", "$2a$04$mGAOtEwWvyCjXGad6Z3DA.uHk0.rAM7NPexkTlb7b8X08AIiqacie"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:05:23.852700"], ["updated_at", "2018-01-03 07:05:23.852700"], ["password_digest", "$2a$04$mmjokKybkZ1o9y4xZC/iZeuStrLK/zyzHXxPU..eWgYq4ROpKN1k."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$xeelYJ./wDqgic6MHOziP.GVcbbt/rtQr8vBqRbAw2dAV1a3L4Jw6', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:36.461990', '2018-01-03 07:05:36.461990', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$56pmqVGJQ7lkT0e50mjbG./mvqkyIinvpw0hLqYnBJSwYLz3u1vIG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:36.461990', '2018-01-03 07:05:36.461990', 135138680)[0m
  [1m[35m (82.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:36 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.1ms)
Completed 200 OK in 267ms (Views: 257.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:36 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:37.043369"], ["updated_at", "2018-01-03 07:05:37.043369"], ["password_digest", "$2a$04$3KPoopKua9AzCN1E8z8aa.Tq35AeagAqRhCWHdfyVV7OvetGgyQ1S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:05:37.071264"], ["updated_at", "2018-01-03 07:05:37.071264"], ["password_digest", "$2a$04$4mzFayS/N3tQWFzNC2bk2eX5HT3RXlMb2sojnnhdvzzG.wMSXXgaG"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:05:37.181644"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:05:37.223549"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$kSSbtwINLjpbsx9d.5fUouawlN0HxXUtrEEeDfpI2g0SXdkj6IMA2"], ["updated_at", "2018-01-03 07:05:37.245267"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2zBZ/byyElvxpEnRT3/PfORPNnKF41YQ1JJKpX943y.2FYAe5utTS"], ["updated_at", "2018-01-03 07:05:37.259520"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ltmg1EAH2Rf0Jdd4G3LC1etAWDyZGY32/1cha7UVr573KXXiEq/Iy"], ["updated_at", "2018-01-03 07:05:37.267540"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:37.397712"], ["updated_at", "2018-01-03 07:05:37.397712"], ["password_digest", "$2a$04$M84B49LvGBHMVqC8f52V9OO97vcTtTG943WTDoCIoJrF8RqiJNsNe"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.6ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RyYqkwx9TkWkum8BKiH8TOP/NCsE8bz0cSo7r8ldsbUVCYJCU4kPO"], ["updated_at", "2018-01-03 07:05:37.540766"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$5q9zNPiExlPPtqi0EZCNGOAlV8jptfjDkp6lB9bphn.qBx.bnvk9e"], ["updated_at", "2018-01-03 07:05:37.558095"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:05:37.572443"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$LMIBQRx268O5kw32OG/GVOJ.KPWNECJnfF1MrowPAi6/sVkg9XDfy', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:48.325390', '2018-01-03 07:05:48.325390', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$uCzWnfMcPcT4ENuIF.zxvOsE/CtcQ0wUToqYBTjkjNSzb1D1ofTOK', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:05:48.325390', '2018-01-03 07:05:48.325390', 135138680)[0m
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.1ms)
Completed 200 OK in 272ms (Views: 263.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$CsjVptwokqwVacm/9ZXhJuMMjdFzW4dZqMeopViLqClYoQqReauzS"], ["updated_at", "2018-01-03 07:05:48.895219"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$u8Q9HcGp.j9FjtfFFwRQ3uQsX0PECk.UEZ2ZB6I7Zo5xo3Ak09Hhq"], ["updated_at", "2018-01-03 07:05:48.913043"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:05:48.925188"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:48 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:05:48.981525"], ["updated_at", "2018-01-03 07:05:48.981525"], ["password_digest", "$2a$04$Ya8m3norBxI0vQf7PaRIZuPM5ZgHKjJG0xr3UQ8l2I2BDaoliDg62"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:49.000058"], ["updated_at", "2018-01-03 07:05:49.000058"], ["password_digest", "$2a$04$j9i2ZBnmZp6Oe50hc3VwaeMgNDi6t0ZqZJnrQgQme/rXVUNfvyt/K"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:05:49.156360"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:05:49.200190"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$gGck8eext/0yHHNJhdoWOursKw2yCLy2AATY9Tb3nObCeG9.uSfEu"], ["updated_at", "2018-01-03 07:05:49.212168"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$gTowRssbYORza77n0tNDN.rsvEm2cGCWyGWKHfqiApphWp7hT6bm2"], ["updated_at", "2018-01-03 07:05:49.219074"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$U8MzgT3i6c1l7mbNB8aCMOhz5e7yooGK1fe8HA8EdkAK1Uqgy/zVe"], ["updated_at", "2018-01-03 07:05:49.231521"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:05:49.283184"], ["updated_at", "2018-01-03 07:05:49.283184"], ["password_digest", "$2a$04$ko7ET7jlDPpqnDt3N9X4KOZZHkYR0utI/Ra.TUCSozNbrMOU0XEHu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:35:49 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.8ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Ymftus4k4VLlbKt7N7hcve3haciPVRAvEtakwZkyZLiJSVIHp.fFO', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:10:36.878049', '2018-01-03 07:10:36.878049', 787258272)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$xbMpEWs5NC6dzLotWHCmXu/zhwTK.Qp9Eg2.YjjwHCO/VVUXjWQHe', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:10:36.878049', '2018-01-03 07:10:36.878049', 135138680)[0m
  [1m[35m (69.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.5ms)
Completed 200 OK in 265ms (Views: 256.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:10:37.411797"], ["updated_at", "2018-01-03 07:10:37.411797"], ["password_digest", "$2a$04$aEE7bdsemXXSSl95QLcPRujUrIuxtl1AzEsYi2KjsGXgomQ5wmody"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:10:37.481399"], ["updated_at", "2018-01-03 07:10:37.481399"], ["password_digest", "$2a$04$.XrStf8RhlRekyw52awAne45S0zZrWRgftl6nSEVanTHYDuANTbky"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MkmqwM.GLit0Hfv3gGr52OTJQ92g/cvWfxzQ0GX0ZwktUWXoizQ3e"], ["updated_at", "2018-01-03 07:10:37.503665"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$wG03a028PAaMbGPJwlWu2O4Gm8dGO1paEqSR/SCJoo0iGDsyQ5g/S"], ["updated_at", "2018-01-03 07:10:37.521024"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8revObXLRoMzeQC0M2JaqOddEpfQStu0JDJapJPE5A38N7vD4sgPW"], ["updated_at", "2018-01-03 07:10:37.528666"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:10:37.599652"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:10:37.641098"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$5vqUs0L8TULX177CX/Hmgu6N0/HwQd/Vi6YTnOYwolFFCRIrWDg9K"], ["updated_at", "2018-01-03 07:10:37.658765"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MyKXQ87Vx0UE3twrArHIJulewrW/mnGW2Eny.ujkT7qWG9rtzKE1C"], ["updated_at", "2018-01-03 07:10:37.706492"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:10:37.721906"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (64.6ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:10:37.946835"], ["updated_at", "2018-01-03 07:10:37.946835"], ["password_digest", "$2a$04$YRejVRRtyjDt9GtTSb7xpureFPG2VR7.5FfZjx53.1XVaTC52W/72"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:40:37 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (71.1ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:40:38 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:40:38 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:40:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:40:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$yVeyeQYt3lZK3Ry7EaRQ3.l2GeEsFycabgWuLrfaHM6ogWSbD4Mne', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:11:32.890736', '2018-01-03 07:11:32.890736', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$x2tmF9onn/e5ybWLWl7AaOjVRJLRlFvFiErUxoKNf1U/vSmcvI/5.', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:11:32.890736', '2018-01-03 07:11:32.890736', 135138680)[0m
  [1m[35m (84.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (6.7ms)
Completed 200 OK in 270ms (Views: 261.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9RXW6uZZZWL4U2sku173..jp1s6xMdE4jrrpFzuBVoseI9MtUs9zi"], ["updated_at", "2018-01-03 07:11:33.423963"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:11:33.437804"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$THuEpCtTBpm2KRDealSC7uYRn4F2Zz0IsLjWww/3phky3x41JtxeG"], ["updated_at", "2018-01-03 07:11:33.496477"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:11:33.584652"], ["updated_at", "2018-01-03 07:11:33.584652"], ["password_digest", "$2a$04$t3IhSy4yKLJtPR4meqjUAe49xDpntDYbk2xwVdphbcjx31b3A2Hr2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:11:33.637228"], ["updated_at", "2018-01-03 07:11:33.637228"], ["password_digest", "$2a$04$uVBEXJdV0y/4uNO4jgv3fuw3QiB39SxNZlQpFIES8VLRXuFLayOHK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:11:33.699986"], ["updated_at", "2018-01-03 07:11:33.699986"], ["password_digest", "$2a$04$33anX/2dzjwOXNoZO2rGx.irgJgcsFTVJ6lDivmq4xHAkgI1lRTDy"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (10.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:11:33.772416"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:11:33.821844"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Y8m4Y50PFuefK.ByAX8vh.TVTRxRpSOGYmtCZhIOSTX6216PGxJv6"], ["updated_at", "2018-01-03 07:11:33.932932"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$hmKTgzWi5ESUIbCpeAJhU.CEbYNpIdA56mhgZgIrvhuGQEKawWkDC"], ["updated_at", "2018-01-03 07:11:33.945845"], ["id", 787258272]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ARZezKatl5I.svfGDCKpte2FkHfxmAijj88plKQ06G9NyM8rzI5dW"], ["updated_at", "2018-01-03 07:11:33.952681"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$FRK5tSSmJfn0diY8YaAZbu9nBSNqBGasU2w2OeItCqWkYbZizKrWq', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:11:43.586583', '2018-01-03 07:11:43.586583', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$ZFvpv5gtMcPW5AruefpINufx1TfnMUaLJILf/lUgvdZU23TrX.HFK', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:11:43.586583', '2018-01-03 07:11:43.586583', 135138680)[0m
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.4ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 276ms (Views: 266.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:11:44.119995"], ["updated_at", "2018-01-03 07:11:44.119995"], ["password_digest", "$2a$04$lpS1kvYuaxlRfOqMRW0y5uPPjkXD0fQUeXqIyiUXKvp8MwNRjF4IS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:11:44.167675"], ["updated_at", "2018-01-03 07:11:44.167675"], ["password_digest", "$2a$04$unYTGnpsP5AR5/eX4d/wGuE7zd9yi8.qsnoYrzzqSYirXYQUHTZjK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$DlkW9m2UFyphe1BvM2wBweFGvNvHXaljjC2QgZirR1oHWPl2oEuOi"], ["updated_at", "2018-01-03 07:11:44.249492"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$OpTvOwtJ17FucW/pzVZL4epoO06o7tRVGJj2Iq73Etp5ff7Ny4umq"], ["updated_at", "2018-01-03 07:11:44.256860"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$VF8sZuTNYqwqC4KvIaoBaeQe4tbXXP2NbbrwvLPyX.D8KRnq/RJCi"], ["updated_at", "2018-01-03 07:11:44.286690"], ["id", 787258272]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:11:44.343190"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:11:44.383636"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$3nU8yPn7abiYvG5OeMDSj.xDXyK19RePZizzu/RRonc2ahZbb5AHC"], ["updated_at", "2018-01-03 07:11:44.400042"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$WpW/AdNiz1eN7BhXxvv.2ePccFlSsQ4qDezyx08J2V68b2Z.fxCTG"], ["updated_at", "2018-01-03 07:11:44.489172"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:11:44.501985"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:11:44.649051"], ["updated_at", "2018-01-03 07:11:44.649051"], ["password_digest", "$2a$04$ep/xdm5GC8G9r.nBQUgwmOvutJdH5pWAES1St0LwXa8CysC4WmSHm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:41:44 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$sViubZL6OAdTLDNK4ucN0OxFbG8.BzfnmPpJiHIou5aeJ9rOXKXt.', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:13:17.186497', '2018-01-03 07:13:17.186497', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$72YlDJoh4He2QheB9ym8bugdTpYVUi9pp5OMcJH/iXuUrsn4y6vTG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:13:17.186497', '2018-01-03 07:13:17.186497', 135138680)[0m
  [1m[35m (68.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.3ms)
Completed 200 OK in 271ms (Views: 262.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$271wcHh8RJu2i7cbR8Y23O0aANNWG/pwRUUlvUmgRuJkmwO4lmvF2"], ["updated_at", "2018-01-03 07:13:17.706936"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$qygckptkOk.ix4mnId5hPOFH6uBjLZWBaGjfkhBL2JSst6JGcnG2i"], ["updated_at", "2018-01-03 07:13:17.724586"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$fn5r1W.8y401HO/DF7usm.ye0ltrbwTI9TrvmZefFQq6NB9NsXRGm"], ["updated_at", "2018-01-03 07:13:17.730335"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Zn81RHoHeVKzlMYblUoy2esyYWHsNbFbihIoJZsXkMc99dkvUMdOy"], ["updated_at", "2018-01-03 07:13:17.841799"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:13:17.852863"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$87j42xXQFq22ZlhIgF.oF.Qjgs3xsCkzDBvmD9sL9WPwRdbo45mTW"], ["updated_at", "2018-01-03 07:13:17.872572"], ["id", 787258272]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:13:17.929032"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:13:17.977681"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:17 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:13:18.004410"], ["updated_at", "2018-01-03 07:13:18.004410"], ["password_digest", "$2a$04$.ONXNSt7Hnul0wXRd/kxWe32sTkew9g29HSuQmSXWGSEr0RsBAhO2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:13:18.119567"], ["updated_at", "2018-01-03 07:13:18.119567"], ["password_digest", "$2a$04$bT/RoeAA9mTT5O0.5EU/sesh7ECr1CQvYcExejCaf70gL3Nj1K/p6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:13:18.176536"], ["updated_at", "2018-01-03 07:13:18.176536"], ["password_digest", "$2a$04$5KxhErXXuzvVnZsnWyRyJuA8nZsxfgJxVyg5.F5f16Zf1WZwLv7d6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$s8n6352f.8WPBGljEdoZlO76lHtsmCKNtoFwBNmM1XSHgX0ShV1Ki', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:13:28.087033', '2018-01-03 07:13:28.087033', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$YIQpIHQ.YgozP8SWyFRP1eli5faZd1F9e14PCi83wht/BOLVzUMe.', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 07:13:28.087033', '2018-01-03 07:13:28.087033', 135138680)[0m
  [1m[35m (70.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.5ms)
Completed 200 OK in 299ms (Views: 288.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$26bekTWEJcspVSbJ.4XBk.sRppt036Sjdi9gZXsTP0hT4Zh4EFJk2"], ["updated_at", "2018-01-03 07:13:28.729681"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ppQJaTAt2OE0wA4ggwnwaOAN6odfs83cTy1SQm1tB6A7Itihede1u"], ["updated_at", "2018-01-03 07:13:28.738631"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$G/9elZ4eQld1k94Em9bFDOcKQKHT5Hb52uKetsyvMvciI4v7x1MIC"], ["updated_at", "2018-01-03 07:13:28.752690"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:13:28.797919"], ["updated_at", "2018-01-03 07:13:28.797919"], ["password_digest", "$2a$04$J/IcCRhTep7.itwAYcrPveIhFwv9qTnmszlHbtcQSVq0tf94Cf81a"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 07:13:28.852818"], ["updated_at", "2018-01-03 07:13:28.852818"], ["password_digest", "$2a$04$lr3yh5uEdrqDR745sZIH3ua4eHTV4iZTd1iAlcECasfF.o4VH7W8y"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:43:28 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 07:13:28.992076"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 07:13:29.042271"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 07:13:29.087195"], ["updated_at", "2018-01-03 07:13:29.087195"], ["password_digest", "$2a$04$GYl2RFqlI0tGpZe.OwVaNuTrsLgSBk5HX9oooLWOtyX6OsvdF.9HO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$m4LfoaUNTTvedz.TOtRfCu88VTjiJ4yoYn8El1/lxmmaJoyAmmdZO"], ["updated_at", "2018-01-03 07:13:29.143725"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BIL4Ic7oQk5meYDCy3N4juWtKuXJNAFfxZaDGwRwjVXora.ssj8wq"], ["updated_at", "2018-01-03 07:13:29.193789"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 07:13:29.206717"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 12:43:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$P/ROkjyi7y6aM1eaOdGAtemBckrUvE1d9b3dOx9N6yc41xhXe4y7.', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:37:52.244795', '2018-01-03 08:37:52.244795', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$RGc0D.74qf3Gyx.VSRrpK.XXdOZ4BZ1LrdPu1fn6spcrWMbP4P.Q.', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:37:52.244795', '2018-01-03 08:37:52.244795', 135138680)[0m
  [1m[35m (76.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:37:52.516677"], ["updated_at", "2018-01-03 08:37:52.516677"], ["password_digest", "$2a$04$nG/3sP8UhgN5SBDIpMlG6.dwdujtZQBgSXnz.A9R37zAbLcAO.5Ra"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 245ms (Views: 243.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:37:52.779880"], ["updated_at", "2018-01-03 08:37:52.779880"], ["password_digest", "$2a$04$qPTKORVH0qE1kWeqB5iTF.pfjo5M33iWznrzY1cS7KKEVpi7eKdN."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:37:52.859945"], ["updated_at", "2018-01-03 08:37:52.859945"], ["password_digest", "$2a$04$EjC56jAfWZbJULYfuFmo2.l9eePh1m2oDS9jT91saRMlz1YlCQhwO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$fNVnkLSFaDDUtqwESfR0nuMMnjJqwcjRbCU6qqQBBeo1wENCr3KB."], ["updated_at", "2018-01-03 08:37:52.922100"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$pcZfsGGB691Rm/S43UYMxOaEUspAitAz7CcPo.vuLSVYwS1cwMBsa"], ["updated_at", "2018-01-03 08:37:52.929080"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2KxYMUDsv2KOUen.EXjiAOsuPS7uDWy8sySxtWNLidsnBM9lJYHIq"], ["updated_at", "2018-01-03 08:37:52.942039"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:07:52 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ExJaVVEayDn7rbwCC/PrY.dFiyQNEAKNW/f/OZMZCfIdcDfRdapLy"], ["updated_at", "2018-01-03 08:37:53.019288"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$4o/7SWfMV/z3krzuP9poDOY7dPGXA56W/nlOpSPep38cG.YJoUCui"], ["updated_at", "2018-01-03 08:37:53.036893"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:37:53.047568"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:37:53.256361"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:37:53.320598"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:07:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$HpNeS1Mn.05axmswWvxrgOHA5i6omOHGheOdPFS62zkUclQtCHX8S', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:39:25.299522', '2018-01-03 08:39:25.299522', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$BUoRf7cD2PPS1RgLeabsDeZeDeKA0NBYGKT.LRIZaQXSji01to/Me', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:39:25.299522', '2018-01-03 08:39:25.299522', 135138680)[0m
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.7ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 279ms (Views: 269.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$xzGFRT4OiLN1Oi2z8nDR0.f9M7VByWxS4WjUA3HcQ2iE1/V3wRkpK"], ["updated_at", "2018-01-03 08:39:25.834410"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$e1zKN5pYAPXxiTtYfmDZmey7vnz9efmqpzoWZSCPJNlPDnBiApBMe"], ["updated_at", "2018-01-03 08:39:25.856013"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:39:25.871208"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (17.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$.154Cx1zEcCDs9NTBR.MiuC.54SPxkKc8UFL6z1fWqBJBShoa6iR2"], ["updated_at", "2018-01-03 08:39:25.956105"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$dIvvX1KN8lFc4dAiV4wEZOOx/AmwQdeAtbmfgKZMyABOVoLki1FxK"], ["updated_at", "2018-01-03 08:39:25.962508"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RLSlvSmbejsOh0BRPxnihOKtI9ZHNnA9sSLQxnSh0MCP5Avti062m"], ["updated_at", "2018-01-03 08:39:25.973141"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:39:26.027834"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:39:26.071012"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:39:26.188641"], ["updated_at", "2018-01-03 08:39:26.188641"], ["password_digest", "$2a$04$PcfozLGPfgvqKSLGSF9JnO0/.Q3vjFkO5/BEt0fGDBeXpvhTVcw8q"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 3.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:39:26.264422"], ["updated_at", "2018-01-03 08:39:26.264422"], ["password_digest", "$2a$04$Poddp45VExkN0fusD4UYrOlDO8gL4TCu2CM6n5FJTCVm/2XVlObTC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:39:26.344305"], ["updated_at", "2018-01-03 08:39:26.344305"], ["password_digest", "$2a$04$ZpEWORR3inD63IyJ3ceVie5b/U423SAiPBMNEADN.ZpmI1JMAxhv2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$dpwe1PP0aOmahglbQ1QB6uk2ZZSKySqAFYrBOd095fFd7lnyc65WG', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:40:43.064560', '2018-01-03 08:40:43.064560', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$dZpoq5.BfzQg3REBIKUcge1O6k5hJpIBtVZNO6p1jYeFZWSUMO7hu', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:40:43.064560', '2018-01-03 08:40:43.064560', 135138680)[0m
  [1m[35m (55.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$vI8jW5yd2rCZYtFAhE41SemWlrM5gmgLxP9BP6Yeez2FwH2IRH6X6"], ["updated_at", "2018-01-03 08:40:43.159373"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2dyIxgGIeerEswWXczFFsugZZuv6lUryfepD0vGGcxwN.AQoXVvFy"], ["updated_at", "2018-01-03 08:40:43.170533"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RfREObtfbimll9hbPQpBRuzVVzNFh.US2F7C61WfozTXnl8zUG0vu"], ["updated_at", "2018-01-03 08:40:43.184140"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 258ms (Views: 248.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:40:43.716139"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:40:43.764887"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:40:43.858881"], ["updated_at", "2018-01-03 08:40:43.858881"], ["password_digest", "$2a$04$Tmznb/jFvItDljY2jwnaTOqJxK8ebekWYGb7AGeJUdy7vtqCG6aJu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 16ms (ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (9.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (9.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:10:43 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:40:43.960924"], ["updated_at", "2018-01-03 08:40:43.960924"], ["password_digest", "$2a$04$fbrTKSasL1X/KhpBu6x2.ORLv/FTri0gxLUszzEwA26XbXm2XPi1q"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:40:43.979778"], ["updated_at", "2018-01-03 08:40:43.979778"], ["password_digest", "$2a$04$k3FOfieRMPIG1R8cAjb/u.SidTd0i/9SrWZbO5iMBlBoFCBapcdK2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ry8IX17ef8b.aW/AoAoOzOHP/65HbHJoIVhQzPENwOPloj2VJJKfS"], ["updated_at", "2018-01-03 08:40:44.207216"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:40:44.216905"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:10:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$B1Q/fga6lBGTtpWFhCK6ne5wv/GE7JYRCX8Mj9pcaBlwQjltbhR1W"], ["updated_at", "2018-01-03 08:40:44.233629"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$GNK1SwTxiRM2yqsE3eLT3u9sGiRCxTx.unCq1pFGMvsiaNSCdapu.', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:42:15.177148', '2018-01-03 08:42:15.177148', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$T4xz4cs46IpGW8BgjYrXlOPEdGNmLBOyVVc8HyqsuPf079FGGeVeu', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:42:15.177148', '2018-01-03 08:42:15.177148', 135138680)[0m
  [1m[35m (100.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$65K/DUpxzkzGxh0RlUNV8.u1d/EFGNPE0XyW.MIiO9TmBWyZRhBY6"], ["updated_at", "2018-01-03 08:42:15.313022"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$.DVF.QkbWXPMtyZ2Otivx.MRMpx2rJLRIVn2FkJ087MnS3EQqYuD2"], ["updated_at", "2018-01-03 08:42:15.332768"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$13qfEh1rMQe/Kbpj.Iqshu.V0eUzfLTQESXzYDYraJDA34pHsBQrq"], ["updated_at", "2018-01-03 08:42:15.340804"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
Completed 200 OK in 268ms (Views: 258.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:42:15.780843"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.4ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:42:15.831218"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (32.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 39ms (Views: 37.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.4ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$QDPccdJEd8Xvdp0uYz3LSu3G64QrgaY3bfB6MtDUt.tKWQcxju2Xa"], ["updated_at", "2018-01-03 08:42:15.988910"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:12:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$bsMJzAIlFrtU9DGDt8bgSO.Cxm84SuwijR//uLBbLHHOPt/FVO4ae"], ["updated_at", "2018-01-03 08:42:16.043068"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:42:16.054530"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:42:16.108414"], ["updated_at", "2018-01-03 08:42:16.108414"], ["password_digest", "$2a$04$WeDJ6t2WVv2iriSYkJm8TuI4g3C0B4mimGsaQdMvIIAl9ZrB7ct8S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:42:16.136625"], ["updated_at", "2018-01-03 08:42:16.136625"], ["password_digest", "$2a$04$6DVnSwOse2evWtmcs1Bef.Z0OJ8gA/QZXJ0lqatmAEzIhEWx1z5hu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:42:16.307768"], ["updated_at", "2018-01-03 08:42:16.307768"], ["password_digest", "$2a$04$VD4AeF9yDTS/BAQxwNT9c.Kb6Te1wN5TtscbwD3yRQQy4x0Ahzvg6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:12:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$pYf7a4oc6jd.2wn9sa7aoeKOu/8rdD0Uy1ZNXJg31fOF2ip8U0N36', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:46:08.151715', '2018-01-03 08:46:08.151715', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$zSIGj7nHBg..xxh/Kwj0puiakg4/CcBdiegrK119mH.N8mTppxyvu', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:46:08.151715', '2018-01-03 08:46:08.151715', 135138680)[0m
  [1m[35m (77.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.7ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (8.4ms)
Completed 200 OK in 282ms (Views: 272.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:46:08.701887"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:46:08.750267"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:46:08.783851"], ["updated_at", "2018-01-03 08:46:08.783851"], ["password_digest", "$2a$04$jDJ37G.10pAKC2DD1EhI8.9RqwbojzU2plX4XRDWDVGtfqeguIEzi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:46:08.844502"], ["updated_at", "2018-01-03 08:46:08.844502"], ["password_digest", "$2a$04$rOmpdhBhyjoXu3EdCbJtCuSgA9vPb/pLil76jnaOUdO07QhRKOykC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8ITdI7kCZs5kJ/Rnqsd5IOe8UX3KjDVCyRvZU6kFRihq7odpyLJKK"], ["updated_at", "2018-01-03 08:46:09.022093"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$o7pZwovgYBJwF8XLy6X4n.Bu3aE52C3kzVSL1qE5HmLKBlKPsXIru"], ["updated_at", "2018-01-03 08:46:09.029083"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BDiRfqlNCYtJI8Rq9Enpe.UzarIWnx9xGC/174pKI3ueSAwCq/AY6"], ["updated_at", "2018-01-03 08:46:09.042066"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$6FUMPmP6rBLgTJtCpGd/t.5.NOLMHj3zhoM7khIll/E21tiPMgMQq"], ["updated_at", "2018-01-03 08:46:09.149413"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$LXnKuQlqATWmvP2ZXrtwyOLVZQZHlacDNcEYghdHieFk8EjqxmH3S"], ["updated_at", "2018-01-03 08:46:09.170890"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:46:09.183392"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:46:09.237030"], ["updated_at", "2018-01-03 08:46:09.237030"], ["password_digest", "$2a$04$eO0CYCAxoNRmoeKY.bA.M.hIJB2CIN0BWW4RnuKbWuBbb7y.XIopS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 16ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:16:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$lQ5MTa46QkEUd7uGVrIt6OBYxY0ks1j4uaLV/5OLJFkQy4C8ZR4Q6', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:46:52.947662', '2018-01-03 08:46:52.947662', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$/rffE6aiJ.yv3EDhTOE6luvU6Sy0tPybtAbNq4WRe71VMVxWXFMbm', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:46:52.947662', '2018-01-03 08:46:52.947662', 135138680)[0m
  [1m[35m (73.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.3ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 334ms (Views: 324.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (9.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 0.5ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:16:53 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (6.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:47:08.884563"], ["updated_at", "2018-01-03 08:47:08.884563"], ["password_digest", "$2a$04$TlmNgiKzdj5p4lcfaQv3g.E4yKZPzqgYG/7Bvn6jdk4PyXQFnlHni"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:47:08.991711"], ["updated_at", "2018-01-03 08:47:08.991711"], ["password_digest", "$2a$04$manSwRMQE3KzAOjrzlY9kO7szKWdXYQP3FdIbtRWZXRhoBmrzDJvm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (1.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 42ms (Views: 37.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NbyYIuD4PLmlkLKTm1IM/utoUHdAVRy9m/qETa.bdenj/SLIhIQgS"], ["updated_at", "2018-01-03 08:47:09.467276"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 40ms (ActiveRecord: 2.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$3QaD5RFAiMUgLMAY3icdxes032MgjXHPVkAYICu9d.5NjuphqM//q"], ["updated_at", "2018-01-03 08:47:09.551683"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 40ms (ActiveRecord: 8.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:47:09.615124"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 37ms (ActiveRecord: 3.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (2.4ms)
Completed 200 OK in 30ms (Views: 16.5ms | ActiveRecord: 0.5ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$YUbTv9KhwIAEB7NbiksmiuzLc1m3fDeM1v52BkOgHAJ41kFTEsMxK"], ["updated_at", "2018-01-03 08:47:09.841281"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$M.kbO/8Hu.bjQ3Hcai59kuEvnzJVoXVHcYo59pQzsO8aTjRdGaowG"], ["updated_at", "2018-01-03 08:47:09.896464"], ["id", 787258272]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2265KuJoTgtmXkeyoNNsluAn6kYaKxkxG6RKDBdmqRKK8Fi9IWaUW"], ["updated_at", "2018-01-03 08:47:09.923586"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:47:10.042512"], ["updated_at", "2018-01-03 08:47:10.042512"], ["password_digest", "$2a$04$DwR95UQYRxtkb1LyUOt.uuJc2y12B5mLUcY8Dn1LUwIOaQE4eaqa."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 57ms (ActiveRecord: 4.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (25.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (2.3ms)
Completed 200 OK in 55ms (Views: 48.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 64ms (ActiveRecord: 4.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_shim.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 34ms (Views: 31.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (10.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 28ms (ActiveRecord: 10.4ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (36.2ms)
  Rendered layouts/_shim.html.erb (3.1ms)
  Rendered layouts/_header.html.erb (7.8ms)
Completed 200 OK in 109ms (Views: 99.2ms | ActiveRecord: 1.0ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:47:10.675701"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 65ms (ActiveRecord: 6.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (8.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (23.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (2.1ms)
Completed 200 OK in 42ms (Views: 36.3ms | ActiveRecord: 0.4ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:47:10.889700"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 48ms (ActiveRecord: 3.7ms)
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:10 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:17:11 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (6.3ms)
Completed 200 OK in 29ms (Views: 26.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$TW6OfFB0Kyx38Sg5XUtr3OGYzk5fdFog4ZzE41d4CLJN5Igww3MBW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:47:15.278956', '2018-01-03 08:47:15.278956', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$ataR4vXz21vbqgDC.WuOJOlc6KytktLI8rG.phS0IEsoPp0UE9gNK', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:47:15.278956', '2018-01-03 08:47:15.278956', 135138680)[0m
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NrBhdhFzvFjo0vDltO2kKO/4/4pK73Ru1wj6GXlvYfXUFWBMz0Vli"], ["updated_at", "2018-01-03 08:47:15.381724"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$npHbTc72/7yP362ENnrmOe4YsUAF6gfjxgRqdN1ImAssL7rtyFgwm"], ["updated_at", "2018-01-03 08:47:15.393520"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7mMAmtsn9iltM7kfNCFnhez7gsYfQRP0qyo/oCM1dWX/GtwZI4mJS"], ["updated_at", "2018-01-03 08:47:15.408223"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 278ms (Views: 269.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (9.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:17:15 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:47:15.991499"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:47:16.048701"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:47:16.108845"], ["updated_at", "2018-01-03 08:47:16.108845"], ["password_digest", "$2a$04$/kFwaVN/T1iDlhprDRhfbunDngrBiVStW6ohpEDfiswqNgQ3yFWhm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:47:16.156275"], ["updated_at", "2018-01-03 08:47:16.156275"], ["password_digest", "$2a$04$8yTj9bjc0ky7YEVVlzFAP.9g8OUpbiEkjvlNMDB/.N1/Eig7QJCxq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:47:16.170228"], ["updated_at", "2018-01-03 08:47:16.170228"], ["password_digest", "$2a$04$9w1YjUhp2n3oZwKf7y4c9.1UdYu5cnZcN//TMWtw7KKJnEUlNekam"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$JRasKj/Fo1AZdgCpypDN2u.jzhHew/0md.lblVBjuxznf03Cdx70G"], ["updated_at", "2018-01-03 08:47:16.350690"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:47:16.362348"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yjXAKK3eePi/0DIIb1XMweGtrLrHChUVoWujCSW3NvMxm.3gLBhNu"], ["updated_at", "2018-01-03 08:47:16.383462"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:17:16 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$zjZMhxLjoh5y7kKi/Fp60.YrdR3rmfvSJDlM2nsJNc4iNZiTI.fBS', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:48:24.128868', '2018-01-03 08:48:24.128868', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$eyj/v68pPLuab7cbUqiWKOlYr5.8XChWqqIU9H0B1oopeLsM6jDt2', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:48:24.128868', '2018-01-03 08:48:24.128868', 135138680)[0m
  [1m[35m (61.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:48:24.382179"], ["updated_at", "2018-01-03 08:48:24.382179"], ["password_digest", "$2a$04$P4G67D2GPvMPsub/rFPyXe/TyQIMBIjLnQ1MT51d7B06.mlDPdIMu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
Completed 200 OK in 254ms (Views: 251.5ms | ActiveRecord: 0.6ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (35.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ht8xihicxZQ5uvfmU4VNFO9btTvlsUhmsutkYb1VhPm5p1v8mb41y"], ["updated_at", "2018-01-03 08:48:24.721655"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MjfEN3efBqr3j0zB6eFTve2f529UviKAI9ihpoVCxJfpaJ3Znb.3a"], ["updated_at", "2018-01-03 08:48:24.736902"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$UCbgUtsA09DvFshRiBB0DO2kowACbqEGj8I26cTFDzuJ7lnyE.j8i"], ["updated_at", "2018-01-03 08:48:24.745066"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:48:24.800559"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:48:24.845488"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$DqKPbTVII8wFcFYpc/V2o.2vhtOI/Bfq3sz6lCqJiZXDl24g5ZJHe"], ["updated_at", "2018-01-03 08:48:24.864027"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:48:24.875696"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BCUX2Ydx2YdPia7uqdQYPeN1y933UMhf9NoS8rAED5rthUIMNiHQS"], ["updated_at", "2018-01-03 08:48:24.895357"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:48:25.078239"], ["updated_at", "2018-01-03 08:48:25.078239"], ["password_digest", "$2a$04$eyEe57GcOWg9QwQku0IuAOlIiESf6Fuz0ILbx77JLWhVh1ixXkA/a"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:48:25.190864"], ["updated_at", "2018-01-03 08:48:25.190864"], ["password_digest", "$2a$04$cpe5YvL5C23jzENe9.L7MuHtjZg/i9nlJlQKO6Y5WZo4MHH3unIOy"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:18:25 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.8ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$QcC19JoVk5fHnTHJvQkQeuzdywwQK7pVBrA1s2mzzmnpNMUJ1fahO', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:49:20.412066', '2018-01-03 08:49:20.412066', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$s964leOoIZfqkL4pH40gNO8tstN96fpBrH3sdEVP3f1yU3iUfyBum', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:49:20.412066', '2018-01-03 08:49:20.412066', 135138680)[0m
  [1m[35m (57.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.6ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.9ms)
Completed 200 OK in 278ms (Views: 268.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:49:20.959856"], ["updated_at", "2018-01-03 08:49:20.959856"], ["password_digest", "$2a$04$WBLKoh4kUk1QY2zZBhxkN.YBXqxUvHJcjHuJRMnS2Y4a2Yko3.qCG"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (9.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:19:20 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:49:21.085235"], ["updated_at", "2018-01-03 08:49:21.085235"], ["password_digest", "$2a$04$bYqv8gQVB9lOQVyUf4vH9OEAMH.tsENWKjPaV0JuKiYkZ6VXfqGyK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:49:21.121445"], ["updated_at", "2018-01-03 08:49:21.121445"], ["password_digest", "$2a$04$MY0MfzhU9.jZbMZ1c78iN.N6Qg/97zw2B7osXbeyNJj/8z01it.c6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$S6Gw1qLVDimBf339Yi5tV.AKBjAcHUA9UzyHMNIqoO7wZApaGFvaS"], ["updated_at", "2018-01-03 08:49:21.194167"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rjIzQIMSJxDjvpiGzjBJVOy13mPI6E.HunFfHulnWdDMuZtraXinG"], ["updated_at", "2018-01-03 08:49:21.254627"], ["id", 787258272]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:49:21.266535"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$f9DHmC3FYPTMf7AFAbbtI.5tBoKSTxRrL.Uq.eqmdwYzE4JXlCae2"], ["updated_at", "2018-01-03 08:49:21.388388"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$qU9An68XbGG8gbEYDccOju84eejav7J6.miYqGWGXQz5BCKgCq6/q"], ["updated_at", "2018-01-03 08:49:21.395597"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$KZC5fNoXeUUBsk3.c66uv.cDC4ag8rEeAn5FbMEiSwEkXJtyopI4e"], ["updated_at", "2018-01-03 08:49:21.406079"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:49:21.490643"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:19:21 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:49:21.533688"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Cp4SWrVel/z0MM23NkrcBO6LdRDzRyovURtQCSzX/oWZZwbi.1HdS', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:53:22.055015', '2018-01-03 08:53:22.055015', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$9TJRQbK0VNp2ndOEuLMhLekR/umRuEpSLI1ynMd1a0xPupCSxrLFa', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:53:22.055015', '2018-01-03 08:53:22.055015', 135138680)[0m
  [1m[35m (56.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.5ms)
Completed 200 OK in 280ms (Views: 270.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:53:22.568525"], ["updated_at", "2018-01-03 08:53:22.568525"], ["password_digest", "$2a$04$PU5IrmVCxkVsxU9Foik.mORYoJ4gAgCcAic5hCZYR/lTaFURMhRHi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 18ms (ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (9.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:53:22.783440"], ["updated_at", "2018-01-03 08:53:22.783440"], ["password_digest", "$2a$04$Xw4BdiN08oNmtAySBQgwIujl2Drl9DTROhsVWTGPLn/ExExOVvnL6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:53:22.801184"], ["updated_at", "2018-01-03 08:53:22.801184"], ["password_digest", "$2a$04$UPAVLu1nspHRB7tO7aBpBuJzZcNUEyj8D95d3dlnFaTHwG4m9AXTq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$stap63Z2Fth9jzXddOCyx.7Thc12zTEyM/mnby89ZELeMJm1bHdMe"], ["updated_at", "2018-01-03 08:53:22.879045"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 17ms (ActiveRecord: 2.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:53:22.896142"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$FRevyZSnOvXEJbPdSCthbOB.onyh8iHmUUpjgadRP9nOatCulWlnG"], ["updated_at", "2018-01-03 08:53:22.948273"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:23:22 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$g7Ivdw7LDHJTFhFNUzgd/epRWpBFx61.r5eGjMxR5iRQPHzImSJ3O"], ["updated_at", "2018-01-03 08:53:22.974541"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$iAG..YFYOHW5qcJMh6Nu1eGGMZkt.MJD5gyu0BiQBM5x.BA3Njkq."], ["updated_at", "2018-01-03 08:53:22.983251"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$s.Xg7AgQAarpTqRF6Gj14uljMelYRYjEQPaYWSgI62iIp95u69hR."], ["updated_at", "2018-01-03 08:53:22.997025"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 08:53:23.064950"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (9.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (1.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (1.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:53:23.194610"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:23:23 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:53:23.244609"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$u4PemC8Io7Jyuy31m5brAuhPXt/E5HXMKKld4czLQiBcTKrglIZYu', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:54:46.581391', '2018-01-03 08:54:46.581391', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$jT8/S86cFKcgtn87rVtQ6.0joV8/.fGJ1ZFryKNui57a4CEhDXDOm', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 08:54:46.581391', '2018-01-03 08:54:46.581391', 135138680)[0m
  [1m[35m (54.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:46 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.1ms)
Completed 200 OK in 304ms (Views: 294.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (8.6ms)
  Rendered layouts/_shim.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 08:54:47.251650"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 16ms (ActiveRecord: 1.7ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 08:54:47.311076"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$i4/UE41v5BfFvmRdj4Yzk.WyEDoei.G3L./j0ulDXrpmSJH6nJFzK"], ["updated_at", "2018-01-03 08:54:47.351045"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$dHoFGskhvYayPFrXPdirGe1Uy6yYh6/aQCLFSmBMkc18CWpjM2GMC"], ["updated_at", "2018-01-03 08:54:47.358491"], ["id", 787258272]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$i2tpMIVxpSBZQWoIIlF4VOV5yhxLHFy6yOKKqAufnkuYDbDHE/oJ2"], ["updated_at", "2018-01-03 08:54:47.371285"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 17ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:54:47.436674"], ["updated_at", "2018-01-03 08:54:47.436674"], ["password_digest", "$2a$04$mTP2l8.DFTh0ir4.GiJ/p.XXP0O58TjyoAg1ksdQZB2DiPnlIPCs."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 08:54:47.467578"], ["updated_at", "2018-01-03 08:54:47.467578"], ["password_digest", "$2a$04$cE0VAbJlg8HsqMhW5.AcPuzLGFnGmcFA.ootmdM2xXGco76VwvtZa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 08:54:47.533836"], ["updated_at", "2018-01-03 08:54:47.533836"], ["password_digest", "$2a$04$/TnNliOiiun9.XBTd.iKeuMC4d2AS4Chyh5iNmk3viSs6U9bqjeNu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 08:54:47.628321"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$43VobFJ203WtYddJ3h69bO7qCELQhXk2.njTVUAAiYBWI2UL0WvsO"], ["updated_at", "2018-01-03 08:54:47.685899"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$lqvsCbrWWnntDho2sLxsV.R87.WGHPK9wqtbdavZqa9w3DBSMKjA6"], ["updated_at", "2018-01-03 08:54:47.703021"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 08:54:47.714472"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:24:47 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$vi19h/favmBwNKlTU7uUcO4QYlqYDtjD94dAMyhBgY08EK3gqjKLW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:24:32.036229', '2018-01-03 09:24:32.036229', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$N9amG7AxyXa9AiJ8cRlC5e6K4Jy4THTYMisGhzklb3DCbCP0HBJ7S', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:24:32.036229', '2018-01-03 09:24:32.036229', 135138680)[0m
  [1m[35m (57.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.4ms)
Completed 200 OK in 300ms (Views: 291.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8m0ZVlB9YtEwLI2d3qfk4ulc2rXHsdtEt6FMYCCXJLglO7rpsdOUS"], ["updated_at", "2018-01-03 09:24:32.566525"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$mU24cVe3l/fTkic8avh/9Oujh8f3j.6QvOgSMTkKOtLuIpWJ4Yq3S"], ["updated_at", "2018-01-03 09:24:32.575044"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Dw2cTEH2EGQTrzk9YmB8XONQRsX9dU1IJvDjfLsPN0qkjtVHX8Xk2"], ["updated_at", "2018-01-03 09:24:32.593664"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:24:32.744694"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:24:32.791508"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:24:32.845192"], ["updated_at", "2018-01-03 09:24:32.845192"], ["password_digest", "$2a$04$MXp4dVCkhGANYcu/WZnAT.cRMCs3/ae3YAaQaeGjXIZACefmdKXUS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$YKitrsFF3I9I1XZ5Cofn1O8hPcq6Ubihq8QZQaIRkcXw8avHF2eR6"], ["updated_at", "2018-01-03 09:24:32.937238"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$kAzhYKYs/xHDtTj1l6CWdO6CHzBOURqWz36tOnP2x.tkN8.40pr/e"], ["updated_at", "2018-01-03 09:24:32.999014"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:24:33.015037"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:24:33.039937"], ["updated_at", "2018-01-03 09:24:33.039937"], ["password_digest", "$2a$04$VrapDCQRTnFJqTs0Xhyuk.1phEvBRJXfhphGbFPr22BO3ABMM1X2i"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:24:33.089270"], ["updated_at", "2018-01-03 09:24:33.089270"], ["password_digest", "$2a$04$Mw1qzb2Oc.KEzLGYJz1o3OaZSLlpl/QGu/X47sr.DMzINOAtezmf."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:24:33.196774"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$jmE9DQdur15JdiG2qYOnyunXEobsDJKJdAQSg/peERtQ1KMWmshpy"], ["updated_at", "2018-01-03 09:24:33.265093"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:54:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$S4Lntzdac0nKm.B4i7Gq/.tnIiEkub6wpWyEefQ3aWqwAyFMcCjru', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:25:18.085285', '2018-01-03 09:25:18.085285', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$PrplqWifNLvTOYIa3lWbl.b4liTPFDlsh84FBF77udgDac.75.iTS', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:25:18.085285', '2018-01-03 09:25:18.085285', 135138680)[0m
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:25:18.184083"], ["updated_at", "2018-01-03 09:25:18.184083"], ["password_digest", "$2a$04$CSrHnS/Mh2z4Yr1jYj/WeuVSw7m2A.fPB4xNpHfaY3mNIiMiI1iA."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:25:18.205960"], ["updated_at", "2018-01-03 09:25:18.205960"], ["password_digest", "$2a$04$xGltMqkQRUUrIxgrSpbq.eHoKYJF/X9W43sTtX9GIEB3k5CrZbsiO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (9.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.2ms)
Completed 200 OK in 261ms (Views: 251.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$wNeijATX7G60t1PoBCD4jejCCDocc5QRNDX.VFMZ.0VHnGcPSCHfu"], ["updated_at", "2018-01-03 09:25:18.746811"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:25:18.758273"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$JQ2ywflOlroao3ET2CvmVu1pyDjaKB7Tof7m2Q2H4ggbZVF1t/d1y"], ["updated_at", "2018-01-03 09:25:18.805224"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8Xpgg5ypsrRQC2UkmUZrc.6KdqokqKMnI2xuT/12oHnUJMF4LxIMC"], ["updated_at", "2018-01-03 09:25:18.844554"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Nxf6LgXVzUaCICBqi6DzFO9ZGv/5BoccqewOB0ine1ppkfHam5DBK"], ["updated_at", "2018-01-03 09:25:18.852379"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$x42YHuicFnWRUiXkG2bEq.8kI5RrimzDpSDQTbQAdzxssqDxOOQx2"], ["updated_at", "2018-01-03 09:25:18.865931"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:25:18.950438"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:55:18 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$qjvIqY6bWJzypK88oZaUAupr/jjdGIueGjlSjNcRp91hTGib7jS7e"], ["updated_at", "2018-01-03 09:25:19.033219"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:25:19.197597"], ["updated_at", "2018-01-03 09:25:19.197597"], ["password_digest", "$2a$04$CDXSIFBh2Wk82tUDGa5y7uYhT2ck5A.VowAUnlo4aAexcLpofB9Du"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:25:19.277682"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 14:55:19 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:25:19.317386"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$n0HVRhaSTIQWjM5ljxtQpOw9NLDSv5HFXfTvq7RuF53op79JgFmHG', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:38:55.373939', '2018-01-03 09:38:55.373939', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$n9RTvL0B1jThb7xTsv4uiOR85LwtNEfhpodzpil.QtPnVvCrJ5cGC', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:38:55.373939', '2018-01-03 09:38:55.373939', 135138680)[0m
  [1m[35m (77.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.1ms)
Completed 200 OK in 276ms (Views: 266.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$X090KF0pj/rZUa40yQeGz.fhC8Nl8wdMXUFlRg6C7z99qjRXg7uBG"], ["updated_at", "2018-01-03 09:38:55.882099"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$w1zrhEUvddu5F2TXG/bD1eowu8mpE1Hi0Q.uHbrtAzLxkcB.FUCbS"], ["updated_at", "2018-01-03 09:38:55.888993"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$npfJ6XLvWHluUVeCPcglu.ftJT.whKs2t9wj9/Q2KW.7zaVjW8RGa"], ["updated_at", "2018-01-03 09:38:55.903133"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:38:55.940046"], ["updated_at", "2018-01-03 09:38:55.940046"], ["password_digest", "$2a$04$FFPNuMUd1aFp29luwGXvxuYYBOrprlqVGoFHQDk34rqfM6GbvU9dq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 1.0ms)
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:08:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$4dQtXlYu457.Od1wt.gcAOXwKTq4jzsvMn5cXkAD8fMuZ81.NHnTS"], ["updated_at", "2018-01-03 09:38:56.014492"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (14.0ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.6ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:38:56.243452"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:38:56.336674"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:38:56.375263"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ucQJ9IpR/f2x1mMYac6QeeLx9mFZJstmAyUMsLQSP482Xk3dCu4mC"], ["updated_at", "2018-01-03 09:38:56.390740"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$EGdif.VZXzzpBppK7qXEcuNN8cl.oTls0bUSqjjVbjOa2S.MC/OY."], ["updated_at", "2018-01-03 09:38:56.479140"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 18ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:38:56.489113"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:08:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:38:56.521581"], ["updated_at", "2018-01-03 09:38:56.521581"], ["password_digest", "$2a$04$5r/tJnoDGTT1r9Gzcl70keMD58Y6cfZcv1lkpbc7GF8e6Tvvj4Wgu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:38:56.574117"], ["updated_at", "2018-01-03 09:38:56.574117"], ["password_digest", "$2a$04$UFFXSU/bhp/k5fML/0Ig..B/BSdkgL6/lVHmCzRUHyesEXECAbPke"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$uMGWzD.LpArYpLjtETyT4ewAze9ZkXOPakvZ/ysANijv9f34lThC2', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:39:08.311838', '2018-01-03 09:39:08.311838', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$bEAG6GfIw7k9eWMwDHyeXu/ZioxjmyiFxskMCjT7pVbUkePuHK9LG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:39:08.311838', '2018-01-03 09:39:08.311838', 135138680)[0m
  [1m[35m (97.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.4ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.2ms)
Completed 200 OK in 276ms (Views: 266.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$fXKAJYMX4054Ig1h4wE1U.p2G6/N3LAGzUN1n1uWDxRcZxD4FONi."], ["updated_at", "2018-01-03 09:39:08.908998"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 2.4ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RPT4kMbh/eZqBgcvkMICfeJJ/hZcjPIKYuBJ4rifvQ0anFF8MB4aa"], ["updated_at", "2018-01-03 09:39:08.949336"], ["id", 787258272]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 2.3ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:08 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$zYUz9VIroMB7DNyBNB0jcOnpQaMH8kfZNQWiNXg4s8VwgQmSVTrpi"], ["updated_at", "2018-01-03 09:39:09.012441"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 26ms (ActiveRecord: 1.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:39:09.039106"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:39:09.168968"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:39:09.202900"], ["updated_at", "2018-01-03 09:39:09.202900"], ["password_digest", "$2a$04$BMycpsWG5VZRNF8QEyNuVeevJn5wI34KsP3WL.4KfwPsJzz.3HdW2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:39:09.271567"], ["updated_at", "2018-01-03 09:39:09.271567"], ["password_digest", "$2a$04$en5FNTZp0AQ8ZybsdS7nCOZoD.wEOp700OczZRy2LLTBagim0cRce"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ypbh6t/F7mdB2CTquxHpu.5uwxl.q6jXt7noQV1oZW3YN1qb3k5v."], ["updated_at", "2018-01-03 09:39:09.304731"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$fSUawFi8b8ze1ZZ/wLfuG.VJAeBlKk.oDUJ4e9U56Qafs9j0jonWa"], ["updated_at", "2018-01-03 09:39:09.311993"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$X0BUE3PZUCGEHMt3f3rxLO.FY03yZYgRXpmWWhzaUgJwgUwvTBUF2"], ["updated_at", "2018-01-03 09:39:09.328020"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:39:09.423008"], ["updated_at", "2018-01-03 09:39:09.423008"], ["password_digest", "$2a$04$bhROuXq0c5naPG7obF2P..v4lI1ff.ps1rMyDk5XARmlivEDPWa5C"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:39:09.509888"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:09:09 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:39:09.556254"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Fczhvag0Fgv3AH5xrlHZNueBPUDbSg4nnMuR5fmFsIg51pyxUeg6G', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:39:26.419560', '2018-01-03 09:39:26.419560', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$FseGT1679xXz3gss00jPTO9M0D8DPZNot1eT8.lnEzdWCYpNry/DS', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:39:26.419560', '2018-01-03 09:39:26.419560', 135138680)[0m
  [1m[35m (54.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (6.2ms)
Completed 200 OK in 279ms (Views: 269.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$tuXspTP1jVH.8VTX6mJuTuUhdEQVDMuhDodNXS/Y484XkP/8Nif3K"], ["updated_at", "2018-01-03 09:39:27.001795"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:39:27.015055"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$6N4VheQj0NcAFQZ1z1kOHua256o6nfKJxjdxykQr2y/tdkvczJOn6"], ["updated_at", "2018-01-03 09:39:27.029860"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:39:27.079005"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:39:27.142787"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (12.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 17.0ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:39:27.275224"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:39:27.300618"], ["updated_at", "2018-01-03 09:39:27.300618"], ["password_digest", "$2a$04$d5RjFahqA4c9s7X0ln.sMOtJhaTQkBTeTAv41BFQsLb1yK1iPXkC6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (9.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:39:27.361019"], ["updated_at", "2018-01-03 09:39:27.361019"], ["password_digest", "$2a$04$Sm/zEuzaDmR7cjAhBWPaLeITD34COkVd9e/i4yPfy1JbSa39VC4Ni"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:39:27.457455"], ["updated_at", "2018-01-03 09:39:27.457455"], ["password_digest", "$2a$04$6CvLavGB2JHUhrKOGxBUveSG9tVXZyoeiZfVIsa3dytWCDw2c4bcq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$gtHwFdKAuYqFSi5vdt3NOOCfcW.XmI.c0yUHnSfo6j/EE3JcHoasq"], ["updated_at", "2018-01-03 09:39:27.571019"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$0GzCJ2ebjriFcSGAuzzIGOHgAClziiY4xlTwb.77SJ6hCxQFkSQBa"], ["updated_at", "2018-01-03 09:39:27.687295"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$i/Q0bSVTdibDVv/GpdxPIuPtBlohO/uG/rs3RjLZqXNaF51phXs42"], ["updated_at", "2018-01-03 09:39:27.699212"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$q6J/C6kQlfwZOqGglYzsE.KSjFTBLGRwD7G1llUCNo5IIByDVhCqC"], ["updated_at", "2018-01-03 09:39:27.706742"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:09:27 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$6gkpdMHNbKX6Zn7jiaXBwuwOrP2XqeSclr3r1zHxpUSkdLj8uQKwm', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:40:14.288962', '2018-01-03 09:40:14.288962', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$cTAt7XawihD1xQrD2N/yleGF1QWbipXkkQavVlGd4vLQigMGnnkUC', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:40:14.288962', '2018-01-03 09:40:14.288962', 135138680)[0m
  [1m[35m (44.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$P6ilAaaeK3DNNStFSa1ccOIf..9z8CK69apK/Of9f0oNi/2U/9fJ2"], ["updated_at", "2018-01-03 09:40:14.367578"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$FrvaEV4Yg3Sb53FdP8ZALOajtaNYy2y/Dczrbs3DrBiX7.IEgdH0S"], ["updated_at", "2018-01-03 09:40:14.379361"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$IBzM8rSXNg4WyAH7JDcoX.J7drylcnr66.w5xd8bmpYDEoOexJBta"], ["updated_at", "2018-01-03 09:40:14.396035"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
Completed 200 OK in 265ms (Views: 255.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:14 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:40:14.953026"], ["updated_at", "2018-01-03 09:40:14.953026"], ["password_digest", "$2a$04$9rNw6LEhq8RcyT0IBEpa5ujNY.F.yd4BAobvNv.PfDTElRTpFXa7W"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:40:15.005380"], ["updated_at", "2018-01-03 09:40:15.005380"], ["password_digest", "$2a$04$1DBNR6SgXkfwSl3Pn3egneIyAZMM2jSpzVK4jipBx11fBqJGxlDy."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yMl1kymrOU4C.V90SnYii.Pcz91OL7aoCC/lIGoZlgIbL10ralZKu"], ["updated_at", "2018-01-03 09:40:15.128453"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:40:15.145232"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Eiotx44qPcF6fgxt9gsXRuRvBwxVQqs5HPP8JqEBZ2OXkc24px3dG"], ["updated_at", "2018-01-03 09:40:15.221775"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 3.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 0.8ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:40:15.297627"], ["id", 787258272]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:40:15.410689"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:40:15.469314"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Z9a84Gw9TQ1RYjeiWkccZeQ71q1o9/3ClU8uDSMTYBw0wnt8ulkqe"], ["updated_at", "2018-01-03 09:40:15.503837"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.7ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:40:15.566804"], ["updated_at", "2018-01-03 09:40:15.566804"], ["password_digest", "$2a$04$P1Zs8/sMqXxFvdsYYxI85OjV5ZOWq9hau5pyF/81nCzcc49yGQcGG"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:10:15 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$98YYUtakG2DKVVREaQW8L.nau1WxBdKBrxsX.S5amQJddooU.XAO2', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:40:25.669663', '2018-01-03 09:40:25.669663', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$pv9MVOlrxcPD88OUXVGAeepBxiHIEXCMQM.tvn4FZLQ1C4OUJPFlG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:40:25.669663', '2018-01-03 09:40:25.669663', 135138680)[0m
  [1m[35m (52.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$OCdxcCgZrSpXpWgjFHjgBuXntHmwvKQDeR7qQ4mbDssP4iimImfJ2"], ["updated_at", "2018-01-03 09:40:25.881090"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 26ms (ActiveRecord: 1.6ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:10:25 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
Completed 200 OK in 255ms (Views: 252.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:40:26.204226"], ["updated_at", "2018-01-03 09:40:26.204226"], ["password_digest", "$2a$04$.5c9HZw1NLRWi1Fif1G2oOu0CQs6B4PwDTxbuhG1GbuF/B9xKokHW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:40:26.239266"], ["updated_at", "2018-01-03 09:40:26.239266"], ["password_digest", "$2a$04$NzNRIq1.yr8JLLw7eR4uSuDCsosybQdsIsHBSMdaIee1HQqrs/cA."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MyU8mES725foGs9R5g0ZmuXJHIRfWbzFTFVTbMgiriwrQ8DhXKDr2"], ["updated_at", "2018-01-03 09:40:26.387401"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:40:26.401972"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$UOSypjWTbNCHy8qQ70Tg/.EB5..N/W2W76U.HK929z4Vletb.NFAe"], ["updated_at", "2018-01-03 09:40:26.443478"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:40:26.550708"], ["updated_at", "2018-01-03 09:40:26.550708"], ["password_digest", "$2a$04$FS4rz7g0Spmv2z7t5vE6muL3OcaktXnQ0PnGIsp0bS1lFczoc/yAa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (4.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:40:26.640662"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 6.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$wevGi1k5vtXpQQtM5rsCMewjsJIfCX4hqXIZCn.I66i4brHW1Kbp6"], ["updated_at", "2018-01-03 09:40:26.701499"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$gYUfNSedWEvgjBEw9H9j0u8G5bSls3j8Sfn7I83zNDK.RmxNPHc.O"], ["updated_at", "2018-01-03 09:40:26.719021"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$3yuPQZCwofVhARnn.93QOu0H3EBKNckLsmwdIzRqvowLoHqh2UroC"], ["updated_at", "2018-01-03 09:40:26.728294"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:40:26.785173"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:40:26.839844"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:10:26 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$325TNTLXH4yEhQCVK97vKe25r.zx90iRNRg9psrGtuGLvQND7HNqu', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:41:20.509729', '2018-01-03 09:41:20.509729', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$sK7jHVJVnFsKp7EBkBxx3uH2hUjRSNk0RI4aYk6OsmLtaFz48bWb6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:41:20.509729', '2018-01-03 09:41:20.509729', 135138680)[0m
  [1m[35m (52.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:20 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 284ms (Views: 274.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:20 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:41:21.059736"], ["updated_at", "2018-01-03 09:41:21.059736"], ["password_digest", "$2a$04$a563S70yhNxETAMYtN/Cc.KJh9EIDQiVxwEQOIcD73rn2fcAeNA9O"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (9.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$JGHcoumDJBAczMVutP3rfuOiX67yqsRfm9Y3R0bPp.G2BpWI.oihy"], ["updated_at", "2018-01-03 09:41:21.091878"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HSp1MC9gWKBtbmqQ0YBlzOgzqPDsu0YKfD83WE40Rs7ZyvXmDtF/6"], ["updated_at", "2018-01-03 09:41:21.098855"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$GtiahemnP0Lh8pUjfo1gKOGxJEJWoBz3c6HNYPLTY5nCaI2qtA0Te"], ["updated_at", "2018-01-03 09:41:21.109717"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (21.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:41:21.189149"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:41:21.233958"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:41:21.268017"], ["updated_at", "2018-01-03 09:41:21.268017"], ["password_digest", "$2a$04$vrKYFtFES9NFpd2RNmxew.qv6C3mxdiMu6ztq1Fp0PNMnIJ1LRcOm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:41:21.294017"], ["updated_at", "2018-01-03 09:41:21.294017"], ["password_digest", "$2a$04$LdBxdqFDSH08IKm30Ev6TOVzUXXv0ByF3cCIhhzysYhOa.wSX7A52"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:41:21.407981"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$bd7.oTLPoArmceobhPk8TOO5ZmTJGbSlXsjIx0TjxM6R7pLqrxBYu"], ["updated_at", "2018-01-03 09:41:21.534182"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$.6RlyKe2J4.7MUoamRh41O1xv82NHzCTyeVhSQv9kQAd7FVp3.5Hm"], ["updated_at", "2018-01-03 09:41:21.553146"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:41:21.566171"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$xmSmR91tAnoRfrg76cOrsOomdfLzdsZonwBR7X9fn8FxFzVRtTzLG"], ["updated_at", "2018-01-03 09:41:21.591865"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:21 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$uAeTPpXPwV3C.bt1AiKXf.XWqZcC/Ea5sNOCMBEWqFVj6qbr/uxwa', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:41:28.517100', '2018-01-03 09:41:28.517100', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$VEj1RvdVL7zumM8LVo9LW.1vHbqqKbF4S/aa9ls7t0W/KTFkI9poC', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:41:28.517100', '2018-01-03 09:41:28.517100', 135138680)[0m
  [1m[35m (55.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:28 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (6.0ms)
Completed 200 OK in 319ms (Views: 309.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7yXH4U4RJAR..SX/ejvRkOn12P8ZDPeIMc8Vk5/GBW1uJOkSXk6eq"], ["updated_at", "2018-01-03 09:41:29.157432"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.8ms)
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cSU2k77jJaPdoH9ZEEUjD.vdD2WRrFkCXfJebIMeEv8R.e0FBFW/O"], ["updated_at", "2018-01-03 09:41:29.193322"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$kSpZacpvlLwRnx6Cp2X3quwfJaMGggwXjLiNiqvNYl9y0wST8dTcO"], ["updated_at", "2018-01-03 09:41:29.200225"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NSAF17DzYgtH015ISlEG9eGu7ru7uWTldpks7wkGhiFZOgFnj0lly"], ["updated_at", "2018-01-03 09:41:29.214988"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:41:29.277658"], ["updated_at", "2018-01-03 09:41:29.277658"], ["password_digest", "$2a$04$tayc23EVc9R/IeiGsveu4e6T5w166oS9S/q/NzJLKKLEnoqv/ORMq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:41:29.369164"], ["updated_at", "2018-01-03 09:41:29.369164"], ["password_digest", "$2a$04$JFjhndArNi4Wjskx3M5JuuXuQ8UWzBSzw0Y3x5jTA4S9/FO7En61G"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:41:29.400771"], ["updated_at", "2018-01-03 09:41:29.400771"], ["password_digest", "$2a$04$Yi/J//gYFSEHWFiYGMqSGOFyWMg6j7yoY/Bo5lIUt9iJ80J2Sv8BK"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:41:29.463811"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$OsLxWLFz.v.AonFeK/yeUOnbPSlhfAY.tzox7hD8KopixRbWdQP3K"], ["updated_at", "2018-01-03 09:41:29.519280"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$pbLdtbx5k7XC3fJtGIC0P.r71JmuapIVOMPUNx1toqPgGpYEzPrLS"], ["updated_at", "2018-01-03 09:41:29.602611"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:41:29.616830"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:41:29.666737"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:11:29 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:41:29.709067"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$KZ9hE0NYPffyygIRWHYdvuv8se.NduSWjHxUhzKi5lTMHy94ygtjW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:50:36.990387', '2018-01-03 09:50:36.990387', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$yaWb/MnEuuEGmHykYa6Xd.dVQZVADtoRZfpG6TB003jeUFQiFLaNW', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:50:36.990387', '2018-01-03 09:50:36.990387', 135138680)[0m
  [1m[35m (35.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.5ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (8.2ms)
Completed 200 OK in 269ms (Views: 259.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$nCMO8y8WITQUxuR/MA3lrece/gm4x51KooC4b3gjUftanBY67Igay"], ["updated_at", "2018-01-03 09:50:37.528246"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:50:37.542023"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$CPDPb5oYf.yoD1OCHEiXqemnI.Xjtcsm5ZRRNrtk3mxkGZAtoR32a"], ["updated_at", "2018-01-03 09:50:37.583951"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:50:37.685654"], ["updated_at", "2018-01-03 09:50:37.685654"], ["password_digest", "$2a$04$pXg9EBd1Jf3G1TqRKtGH8.TWKog/RD2HEg.bDUhXqpZXwkyDdAY5y"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:50:37.703210"], ["updated_at", "2018-01-03 09:50:37.703210"], ["password_digest", "$2a$04$fWvd9rwGUwKG.DzROJ4TleDUsGXOKsV9p8AxGjmntSyrpbY/qxZM6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (12.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:50:37.782869"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.8ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:50:37.838967"], ["id", 787258272]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$H7hCnlGcfKvwN2bGdUJfPeKkNSMJsPBckoDbN0jfCUYi2O787Z/6S"], ["updated_at", "2018-01-03 09:50:37.883062"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.6ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:50:37.984998"], ["updated_at", "2018-01-03 09:50:37.984998"], ["password_digest", "$2a$04$YbjhKLaswN1zxbsB71pqcuFbHtM1FMa86sh0v4eFSmyB2Tln1S4Ge"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:20:37 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:50:38.053483"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$US53DEktuZzhRaAWOvsUEeZVw/bp5pP5d/qVs2mjbl4JUldjgOaju"], ["updated_at", "2018-01-03 09:50:38.186043"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$smqmd6WCXKVu8FmITM7wBeUCCwcevIE1ap.mJtdUf8h7n/DzjiBZG"], ["updated_at", "2018-01-03 09:50:38.207328"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$aYQHs3iaRscHvOSgy4Rble95TYFDfOVDAxkl1/5NT//kBYra0mX8C"], ["updated_at", "2018-01-03 09:50:38.215457"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:20:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Yf/hRPVZii2Ox0VO8Pql.ehthccf98NxvvZBO.4JzDwo8rF68bB1S', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:07.421182', '2018-01-03 09:51:07.421182', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$PUDAVPDOhs0uQUSqUI/VrOhk0IruHV4LcH.1wA5P35M3Eep3Yn2m.', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:07.421182', '2018-01-03 09:51:07.421182', 135138680)[0m
  [1m[35m (39.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (8.4ms)
Completed 200 OK in 265ms (Views: 255.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$aqK6/ezvKMpVoF8ec8MGHOaDSrqLMdcKPE9Wh1X2ysWP20mpovqoq"], ["updated_at", "2018-01-03 09:51:07.900500"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 1.3ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$b3jwvTmpOesz2vgjAipGCuKQSosstv6JzkFlBRxywkOlnEhy6zf9S"], ["updated_at", "2018-01-03 09:51:07.920867"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:51:07.970086"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:07 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:08.065700"], ["updated_at", "2018-01-03 09:51:08.065700"], ["password_digest", "$2a$04$7nbyep0WWWEPHbd70aF7NuAxLu6ou4m2rHZ7Btw1KGbVPLQgKQ15K"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:51:08.169729"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (1.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9rYFShRpHSzp38qrf2tlpu.5eVdVoCgdPgVBkr5eIB0.iu8GD0SxS"], ["updated_at", "2018-01-03 09:51:08.240476"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$aiioNW8UtwUid1I9P/2ki.c7.01YT3lvf/eIn5JdYa3gsYe8kN/p2"], ["updated_at", "2018-01-03 09:51:08.246993"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yOSzG9hzMglXAFHTyuLTXO.b.7sWExfwyvEwKVtcigMzs7X9E9bfC"], ["updated_at", "2018-01-03 09:51:08.261923"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:51:08.327647"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.8ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:51:08.382471"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 2.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RBwnda2S8vcX5co/3IX63O9qWVls0LNR6k6Rj2oWbs.fVtKUfI3Qy"], ["updated_at", "2018-01-03 09:51:08.405311"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.4ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:51:08.459097"], ["updated_at", "2018-01-03 09:51:08.459097"], ["password_digest", "$2a$04$Gs3W6.IQx.bOpA1.pLIC/.Ld6jksQa9HDyelZ5FWerO5aGlxGuIWi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:08.478298"], ["updated_at", "2018-01-03 09:51:08.478298"], ["password_digest", "$2a$04$FlyqeoMjAGagWNln4IfWbOAavOrvUzifK8z.97la7Q9aD40xp9/RO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:08 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$P3LoA5h1G65vWYkeFMlOdu/.Zx5ot2cLzPwnVDRQO66hkyu2zamWC', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:18.767868', '2018-01-03 09:51:18.767868', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$b1l7DFhrtu8UMxDyv.uR4OgvgpUiCpFct6HwHL6VnaMCkTFwkK6z2', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:18.767868', '2018-01-03 09:51:18.767868', 135138680)[0m
  [1m[35m (48.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:18 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (18.7ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.1ms)
Completed 200 OK in 276ms (Views: 266.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (9.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 17ms (Views: 13.8ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:51:19.287605"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 17ms (ActiveRecord: 2.9ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:51:19.343682"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yealExK8zN3Lkk7T4jdPx.NkYdM2L2asCHEefLctVve1xNLdraoSi"], ["updated_at", "2018-01-03 09:51:19.362305"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$n7HBjyKNLLgSDeuNzUUZz.PP70NI6QG.mdyMk8A0RzafFXdy6Ns6i"], ["updated_at", "2018-01-03 09:51:19.439167"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:51:19.449537"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$y8GOckgOjlh/Ai9VRsTqKuo.jN32vFqlTl51YlthTVCmA6Td3Oko."], ["updated_at", "2018-01-03 09:51:19.491504"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$6AC2Q50VuD6pxO8qyI21vOGztQd.qMRUZ.xghYMXjFn8UdDRnbg5m"], ["updated_at", "2018-01-03 09:51:19.498863"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$4lEFZbEXu8Y1qjkT9d4iaOXMjtG8j/ad.rimz.cnVcAx3gyp8SxPK"], ["updated_at", "2018-01-03 09:51:19.512475"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:19.626094"], ["updated_at", "2018-01-03 09:51:19.626094"], ["password_digest", "$2a$04$WHOG7hMC9L0tw96Sc7vDQOo2cieFkgMZQUPXbnMM1ieSdsbkd5rBq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (9.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (1.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:51:19.817340"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:19.863149"], ["updated_at", "2018-01-03 09:51:19.863149"], ["password_digest", "$2a$04$w7fX4y.Rdlf1EQpWUEKJKOapH9oi3/jvYtKbOUJbiqVZ.X8TZhgyi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:51:19.926633"], ["updated_at", "2018-01-03 09:51:19.926633"], ["password_digest", "$2a$04$tWWmEPjWFIu5S8JyOWqgCezgFAEIJWpFI8sJ0dsBZvpnbBnExgj16"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:19 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RMSX0nnmTsOjBOvhjw9O7Ol7XCnBWdeWLfC1KFtPrDw8x/cbUbZpq"], ["updated_at", "2018-01-03 09:51:19.982802"], ["id", 787258272]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:20 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:20 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$eBPrqa8IA/vs18TC7PHkH.P7a63P3YDLGQbN/KuhS9YCxjKVxIm/i', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:31.056826', '2018-01-03 09:51:31.056826', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$7Gm.jwQtcdvBPCIGfSZTTe7uxYtUY2OGqeyDLb0OtcTpqmpM5TmHG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:51:31.056826', '2018-01-03 09:51:31.056826', 135138680)[0m
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.6ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 288ms (Views: 278.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$mBce2TCvqVA4NY0fLrOql.9QqjEEHcO70ORgmvIJUkhjPsxlQlnz2"], ["updated_at", "2018-01-03 09:51:31.587844"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$c2xld862Fc6ksBdemmhYaeMiAkQRkCnTuJ1yOU4ZJmT2sU2BCKroW"], ["updated_at", "2018-01-03 09:51:31.595756"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8xKHkCkRKQVbXvMjTjJfpeCPmW1PV9dnk4DOGtIzrTuAqLZ/uT6hO"], ["updated_at", "2018-01-03 09:51:31.610665"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:31.673037"], ["updated_at", "2018-01-03 09:51:31.673037"], ["password_digest", "$2a$04$zaPUyufVd73NoHbTVLrSAegex3/QGNB9lPxmujA60oTVy4vwJlFE."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:51:31.769045"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:51:31.810117"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$XNb/NELyvhhhPt.Egl5A0Oe16z/tGjFasU4BYDPmoujogRpnzr.1K"], ["updated_at", "2018-01-03 09:51:31.827057"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yHMZwQyg48.kYvF9fm1s1eVYbeU8QHRx2pgoTOOj/prq5UToBDA2u"], ["updated_at", "2018-01-03 09:51:31.883053"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:51:31.896530"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 17ms (Views: 11.9ms | ActiveRecord: 0.6ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:31 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:51:31.996385"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cUcHu5UE3rfElXPYS2un1eaUFulxybR7lEz6cU2BwNYGK2MUTE9.a"], ["updated_at", "2018-01-03 09:51:32.067932"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 3.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.5ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:51:32.117329"], ["updated_at", "2018-01-03 09:51:32.117329"], ["password_digest", "$2a$04$JL6OD7fc0OwO6MZryZ6XEeOSf2egHQ2PRYgULciGUVHbctjPtcIyW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:51:32.132970"], ["updated_at", "2018-01-03 09:51:32.132970"], ["password_digest", "$2a$04$steiU05FFkC/0K6z./dBV.I9rKgyx6iEI1oXNk7RAYaEwVGjFr9o."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:21:32 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$Uc4HzPCF.eoBfWL7ujEjmOH71VLCqV0Z5ZzjsmWDOrxu.OqAvoq1e', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:52:50.765454', '2018-01-03 09:52:50.765454', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$jQLDXSpc1rijDq/v83p/XO/r4h/Km/VRlLKqnvJkT/0E9cpbC8b2e', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:52:50.765454', '2018-01-03 09:52:50.765454', 135138680)[0m
  [1m[35m (56.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:22:50 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.1ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (6.6ms)
Completed 200 OK in 275ms (Views: 265.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$iVvr4g90atgQc3TsIYE0Uu/SviCGg1shyqZBuQ2L07qi1Mpv8fqLu"], ["updated_at", "2018-01-03 09:52:51.285440"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rtXEv2rLwTPbLYBlul.86eEUsj1x01hVCPoOwpmdvROHq7nvgvqrO"], ["updated_at", "2018-01-03 09:52:51.335643"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 2.1ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:52:51.351824"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (20.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:52:51.432331"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:52:51.479823"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$comY3Gc/vPQDJBPP49jZX.BwTg2WP5B2Ot1P5GDN7hvtcESDQxW12"], ["updated_at", "2018-01-03 09:52:51.492308"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$1qsMD5HLydePS3wtdad7P.j71S56HTSurjcdOH4eHDQevT7FUkTD2"], ["updated_at", "2018-01-03 09:52:51.501784"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$yJGnozuqcgmULrod7zWVtekZpm0QFm9NqwH7KaroxeFlH8/dYdT1G"], ["updated_at", "2018-01-03 09:52:51.515098"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:52:51.540313"], ["updated_at", "2018-01-03 09:52:51.540313"], ["password_digest", "$2a$04$YkdaUaCYjgakIn3vkDpulOpLBixVGQTuh6ULhmd.vAGzklfQCsMP6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:52:51.578047"], ["updated_at", "2018-01-03 09:52:51.578047"], ["password_digest", "$2a$04$EWpTFk8BSaIDwwLrrx4/meXlNv3/f9ALg/sozm2fEEpNMyoqJWzhq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:52:51.687848"], ["updated_at", "2018-01-03 09:52:51.687848"], ["password_digest", "$2a$04$.JStfhNdxnfXL4lkUflsHOmOn8E.NchOONWpCui.EUnJHCYMkfNpO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (5.4ms)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:52:51.761031"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.8ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$gfeT4Rv.a5BbsD5Ud.jvquk6Yl4iW2ThtbCDDs2uis16/GaNGeCpa"], ["updated_at", "2018-01-03 09:52:51.965857"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:22:51 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$1cnM3bzjFtGAbGlE1ZJVJ.JXRmODevVHqvM.yyftymE4XxiZXjSf.', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:54:40.575149', '2018-01-03 09:54:40.575149', 787258272)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$vk2a2NB8yL3mf6Y9rh.0neHfReBvFL2u2Z/wJRA6AbhsaJzgFXL0W', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 09:54:40.575149', '2018-01-03 09:54:40.575149', 135138680)[0m
  [1m[35m (87.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$l555yKGPdyiovDLJjJOhzeT/l2AGEdp6G/CopERhj/UVQFwUYhvYe"], ["updated_at", "2018-01-03 09:54:40.696226"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$aG2f8lu7M6nR55FtSsXBfu7A7m969Ke4C.uZqIsk9/mIimkJLDcvS"], ["updated_at", "2018-01-03 09:54:40.707041"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2LVtIY72vub1RQ/pnWnhnOKU5Mck84wA1r3vRbr8sq2gu1Mu0G7D2"], ["updated_at", "2018-01-03 09:54:40.719851"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:24:40 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.2ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
Completed 200 OK in 299ms (Views: 289.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (17.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (8.2ms)
Completed 200 OK in 38ms (Views: 32.8ms | ActiveRecord: 0.4ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 09:54:41.261745"], ["id", 787258272]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 15ms (ActiveRecord: 2.5ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:54:41.385430"], ["updated_at", "2018-01-03 09:54:41.385430"], ["password_digest", "$2a$04$E5wyGrqIzZpPCe/Gxi52ROORq3tnQW4hZA3CwK11AlxJDammc5k/2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 09:54:41.445330"], ["updated_at", "2018-01-03 09:54:41.445330"], ["password_digest", "$2a$04$oNj/aKczhQhQ0.Ucf7qeNOhLy0rUEm8SPjnbcOo9eqfgDuX41CQx."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$wct1GX7zH5nx0XMr4itE5.25Bsn1j8CG5zIO6ShAaUrWBjp/kXSme"], ["updated_at", "2018-01-03 09:54:41.561025"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.5ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 09:54:41.625153"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 09:54:41.664252"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$EDPSTp.pkn9rzaFPliOVVuOHb2RqIwvzPnL6ccEhAONvA9axP/jQq"], ["updated_at", "2018-01-03 09:54:41.738251"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 09:54:41.750840"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MQnqavHXD/NV/AtXFtjcVuhC6bayfpThwJzxA9FqjpsD0CSGpRyM2"], ["updated_at", "2018-01-03 09:54:41.799880"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 09:54:41.835034"], ["updated_at", "2018-01-03 09:54:41.835034"], ["password_digest", "$2a$04$jHDEVSnE/GDeI0Cs2h/NhuvMwKe.ryp3mddR2wvBhWCURB6dzH0Pu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:24:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$QeJTyYHk5WDFB4ld/NfCXufsLjGLC1XCZZ1YP4Tk0riFBS6G2zX2i', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:01:34.629888', '2018-01-03 10:01:34.629888', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$j5tbHWgSRe1094.UDHTsn.Wl2voh07kaw3kDeDkgtPtdDxVZGgWZe', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:01:34.629888', '2018-01-03 10:01:34.629888', 135138680)[0m
  [1m[35m (65.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.0ms)
Completed 200 OK in 268ms (Views: 257.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:01:35.172997"], ["updated_at", "2018-01-03 10:01:35.172997"], ["password_digest", "$2a$04$jF9VxQlDPp3faX6U6XjhdeACbdlz5wmdXs0RRGucKDhlP6ICH1arS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 43ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.6ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$B57mTFXBzbq.VmLtjAwgluNfgAL811/CYFz06XHJxkXh77yFpXjGG"], ["updated_at", "2018-01-03 10:01:35.273625"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:01:35.339239"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:01:35.379840"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9AJ3lwEozSkPqx5Y1y8yNuFODvxzaZEkwVAmqToIKLsYn0T5CnqkC"], ["updated_at", "2018-01-03 10:01:35.423099"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$DMCg20SqqfvFYVSAAOIETeOcAl35wFgBt2BbL95Q1VFQnHfYUXK7W"], ["updated_at", "2018-01-03 10:01:35.431697"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7JhZYGQRFvxP7B0kV15cCuh6bCSqHRkIpSI/VqwYM9JuNrdSQYQ2e"], ["updated_at", "2018-01-03 10:01:35.446425"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2GQ8pm.GTkyNcDhibOcd/uVFry7hJESJ0Wyl9lkOXyA5NQEHmIYg."], ["updated_at", "2018-01-03 10:01:35.521901"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:01:35.534969"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$PAr0HrStMQh4oDT64m1Cye07TfuimDMkwU681RDisxzvDbxPcUF1O"], ["updated_at", "2018-01-03 10:01:35.555406"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (2.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (18.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:01:35.740033"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:35 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:01:35.798356"], ["updated_at", "2018-01-03 10:01:35.798356"], ["password_digest", "$2a$04$sX.O26/nCVcuV5/t6t.8kOWZnO7YZoXQ.8cMpE3ZPXfmnFQm8VhDi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:01:35.882238"], ["updated_at", "2018-01-03 10:01:35.882238"], ["password_digest", "$2a$04$24PukN9i0SVrKyEuhJO7l.n9IfjYk8JExwNbcU98PRx082d8wKh9C"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$0etNMHZ59wWiPb/9o8ThJuBHqar3u3NT.fUkFToOPTiUEdyTw2xsS', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:01:43.011864', '2018-01-03 10:01:43.011864', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$qc3Pw7XKhv8axmoelUd.z.Nv2gaKKLrOOFOLJCNK9eprQR7.fon.y', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:01:43.011864', '2018-01-03 10:01:43.011864', 135138680)[0m
  [1m[35m (108.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.2ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.4ms)
Completed 200 OK in 275ms (Views: 265.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$fxFQQYJdxro3oxH6etxmIOUr2WVvmnHWrerwL0g.4t6MRJVdNU8qa"], ["updated_at", "2018-01-03 10:01:43.559675"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 16ms (ActiveRecord: 3.1ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:01:43.649609"], ["updated_at", "2018-01-03 10:01:43.649609"], ["password_digest", "$2a$04$Avt1Bt69CNKKVSsYsHQFi.SnFlRoMZwr0IeCqlWBieQsvlbfS0/Pq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:01:43.730344"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:01:43.772424"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:01:43.823851"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:43 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rygNRn1IV/DjNrF91uJ4h.CaCozjaEbDSVirIkRxM1LWmO/YEu7CG"], ["updated_at", "2018-01-03 10:01:43.980900"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$iOU8S2WNCDeprMkm563.VeF.PfDFvpj0n.LXFuf9fv9XZpOiOQZbG"], ["updated_at", "2018-01-03 10:01:43.988242"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2c0nm3UderRK/0ZNVzGT2O1kdDXuGOGDZgSOPnBu464NX1aG.fNNi"], ["updated_at", "2018-01-03 10:01:43.999729"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$aLPazaP93UGFfTpXseXcIetBf/TuiWsU5Kl/f1FT9XimxayToQZ6q"], ["updated_at", "2018-01-03 10:01:44.051302"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$15Qd6ZrcazQpKdWs5snHXOnunqRnuFNyNHJhqxJ9X63g2I8VudWpm"], ["updated_at", "2018-01-03 10:01:44.155439"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 24ms (ActiveRecord: 1.2ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:31:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:01:44.178349"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:01:44.208938"], ["updated_at", "2018-01-03 10:01:44.208938"], ["password_digest", "$2a$04$FQ4d/z7WLgTQC9w6Isr.a.YKDTPnHzY6hh29oBcaQDNRHTHzuSsdu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:01:44.259713"], ["updated_at", "2018-01-03 10:01:44.259713"], ["password_digest", "$2a$04$9gUEH8o/jd0A/yo6n0a3ce3yeQnL36PauOZJ3.BOTn4AVGj3MniAu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.8ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$dl0f32UE8LnCtaHZrcMG2u/1Er3cly12.x/1D8vlutMlx9WZvt/e.', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:02:33.739400', '2018-01-03 10:02:33.739400', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$v2QQXbu2764nwckZ1UlG/OGfkmQWCeSNHg/FOHq1mmT5ZhghTAF/6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:02:33.739400', '2018-01-03 10:02:33.739400', 135138680)[0m
  [1m[35m (54.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:32:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.4ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (9.1ms)
Completed 200 OK in 280ms (Views: 270.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:02:34.263552"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:02:34.308578"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$bzOxUjhrBf/KgcoLUbVmf.zsc/PN5XaZGdu3wUS8w4Wr/IC9mdZte"], ["updated_at", "2018-01-03 10:02:34.427972"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:02:34.540648"], ["updated_at", "2018-01-03 10:02:34.540648"], ["password_digest", "$2a$04$r0xtVrVVtWZ63OSXZFgxIe36YvygRMuNbHQt.Z9V0FrOlhNvOH0Ve"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:02:34.574927"], ["updated_at", "2018-01-03 10:02:34.574927"], ["password_digest", "$2a$04$0.ZsVh8cqaTijMuN8uapXORQUDMxLGdSBeLXr2m5PxeLY1B8YA7bS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:02:34.628265"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ZE4beuhPr07J3N4CXh.M8OejRDZ13bPUpwi182R.mEWMWPyp2Cy5u"], ["updated_at", "2018-01-03 10:02:34.713031"], ["id", 787258272]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2ZfDLb7k7SCKtTNp0kR3BOZJlqeKv6rCWe77c23XTCATFukFmUJY."], ["updated_at", "2018-01-03 10:02:34.723716"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$H73nOCo1hh3F6ONVaKtSsO6mlEIqUzVx.5hrLlnGPbQ49oljGf7jK"], ["updated_at", "2018-01-03 10:02:34.738207"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:02:34.771981"], ["updated_at", "2018-01-03 10:02:34.771981"], ["password_digest", "$2a$04$vl2QaKpKim.SLE.GpZKTRemQbotAXpkbNkbwHAfmTLw1ZI4z3xyHO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 13ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$PCLgvDHGn/1ojTzMMMQMgueCZ45XMVz00qLmYvUMS/CNTG1vY7hvm"], ["updated_at", "2018-01-03 10:02:34.831688"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8d5eDjvBoGbwZlrMjxTz0.2Y8PSt896pZpw5tn1hQkigaVypdwv8K"], ["updated_at", "2018-01-03 10:02:34.848341"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:02:34.859950"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:32:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$gFq0cpn3LZO2W5BAEoRhA.UCs8fznvuurvtG1j1bztsnMaxV..PDC', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:05:36.295471', '2018-01-03 10:05:36.295471', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$k/TpnXxaPyxLb.a5I5KXnuMnFPTDZ1fM9EdDu/48alcyw/bETkBJa', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:05:36.295471', '2018-01-03 10:05:36.295471', 135138680)[0m
  [1m[35m (104.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$PccsFb17JAiwI6k/qxC1eubODrxbeJ5cYLo3kYYNXubvhqLlpeqVq"], ["updated_at", "2018-01-03 10:05:36.437333"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$nNCTvW17Ci/5uK63QECgkuz8tqfJYwZMZjYHi34UZb7O5J8cvpNZm"], ["updated_at", "2018-01-03 10:05:36.448072"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$H5aRHB7OfdlqvzdVK3MpgeQB06VcHaMeupRLBsgyc0sc8NU1sr5CC"], ["updated_at", "2018-01-03 10:05:36.462591"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:05:36.633731"], ["updated_at", "2018-01-03 10:05:36.633731"], ["password_digest", "$2a$04$y.81pzjI4hujB2sTAFskxume8hOrteXpOjZFoXLvddqonaHfCKqOm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
Completed 200 OK in 254ms (Views: 246.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:05:36.958700"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:36 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$kHAVvcBU9Rx3SyCc5zb69uq7Nbr8jwfjljOW9L2Wif2tOveBbovSq"], ["updated_at", "2018-01-03 10:05:37.104753"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:05:37.194893"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:05:37.241763"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:05:37.257382"], ["updated_at", "2018-01-03 10:05:37.257382"], ["password_digest", "$2a$04$JUoIjqbtAjmVq6X3YrP2qeylMVmJ8ZwRtu0xD5Gys.10xsZtROzIe"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:05:37.341790"], ["updated_at", "2018-01-03 10:05:37.341790"], ["password_digest", "$2a$04$ap4K2TAbivIy0LNoVgE7bOige2Yfjxto1droxgHVKeS.XGxo3twOq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$8A.lxZsWx1ievIwIahLyruWiMEkVMwFTcpjtr/n8MvhemVgHSx8.y"], ["updated_at", "2018-01-03 10:05:37.467189"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:05:37.481140"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rNeiQ3BeELhNcgZLwCxS8uGf30u7KYzyVngcqwZ2xRP3Ty.tA7HBu"], ["updated_at", "2018-01-03 10:05:37.529005"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$R4iTCq91uPmM9Iwg86aSa.1s6DglKQv.nGi0WI579/j7YGRNoTegW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:05:52.427132', '2018-01-03 10:05:52.427132', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$oZq3tFZ.Eierw7kAiw9bUeNeVkbdCHKSJ6gIceqJDLM5sPyqGJ4nG', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:05:52.427132', '2018-01-03 10:05:52.427132', 135138680)[0m
  [1m[35m (72.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:52 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.7ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.4ms)
Completed 200 OK in 296ms (Views: 286.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:05:52.987922"], ["updated_at", "2018-01-03 10:05:52.987922"], ["password_digest", "$2a$04$kyrwftY2wsbTVEeJzJoPw.KOv6BUoXk/oJ.mLWfpHUyrzqyoyBjW."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:05:53.002801"], ["updated_at", "2018-01-03 10:05:53.002801"], ["password_digest", "$2a$04$yIVdklDBNz5vUpHbldp0aOB3iK40X/4eekRMcUs.sPEkIU3lpnGgq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$LqBseGWsn0wWWGhxXbHHm.y.LPKsOPokJUqHcZvgnaMvoleJ7gKY2"], ["updated_at", "2018-01-03 10:05:53.193122"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MEgLGHIlYBt5RiHMn9.lauhYyWLL/.8utXkdThCiT2ewtxze/.JHS"], ["updated_at", "2018-01-03 10:05:53.269631"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:05:53.285364"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (13.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:05:53.347689"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$/IHpfBK27eB.6rCOwC0LlOpatqzsXmM2UCXHSbZMzIYr4kCGvT6vC"], ["updated_at", "2018-01-03 10:05:53.405027"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$EAH9aLLJkNshgtQz7gQVvOuFb5qCz5Eeo7Luabiw4E86RcP0MClbq"], ["updated_at", "2018-01-03 10:05:53.418256"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$jQi9jhiuMtibKIG5JN0wOu6F3GArwVOTrHhl9Rf.kwgpn/RSZmB4G"], ["updated_at", "2018-01-03 10:05:53.427076"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cY5ZhtDI978wc8Yhbv9tZujzyLqbil3WiunDQ6jLG/O2lmJJmHVzq"], ["updated_at", "2018-01-03 10:05:53.521391"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:05:53.577439"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:05:53.617364"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:05:53.638150"], ["updated_at", "2018-01-03 10:05:53.638150"], ["password_digest", "$2a$04$0IiVpQe3es9.4zfl.gmSteSPHWljyYDE5Kg./PF80fk.uxBepSj7."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered admin/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:35:53 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$j8uP45mKZ.pc7jhlxeFSGeWa20yNyvidJbAd.Wj2ljAXG6gHGNPFW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:08:23.710807', '2018-01-03 10:08:23.710807', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$EuMvfbppRYi409L6cf3KAOm5uuR71zyIdZpOWbWaCVeLxWlGrCse6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:08:23.710807', '2018-01-03 10:08:23.710807', 135138680)[0m
  [1m[35m (120.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:38:23 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.7ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.3ms)
Completed 200 OK in 272ms (Views: 260.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (30.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:08:24.333495"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 18ms (ActiveRecord: 3.7ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:08:24.389863"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:08:24.434224"], ["updated_at", "2018-01-03 10:08:24.434224"], ["password_digest", "$2a$04$0sIOKrVO6TT/A2c01hk3oOujfSc1VthmypAQWnQl9cIu/RZJGea.S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.8ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:08:24.510809"], ["updated_at", "2018-01-03 10:08:24.510809"], ["password_digest", "$2a$04$Cddhz5KzBkanb6hgxUNbEOdB71Hw4RFFFCKIs3KtZQrwlJaxz0BBy"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:08:24.564258"], ["updated_at", "2018-01-03 10:08:24.564258"], ["password_digest", "$2a$04$ML51kBJL/ocYZFXmLAPUPuc9HIZ4uliR8giPkmEsRsL6OYbpqY1vC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HPvUBZW9j9tEmaPZ1DmCUep4k/Rrc0JYkelaMkHOI2dmQmE2R3vLa"], ["updated_at", "2018-01-03 10:08:24.680544"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:08:24.697235"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ung8n9.r7U40/6XkeWXiPuXqISyxh3YcdM/1NmvI3SVzlDMbEQRHq"], ["updated_at", "2018-01-03 10:08:24.757196"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Ri8n/N94JaEJpURz9ZyK9eYQduvX24GFCa1nPGAFMIVLiJHZcdLz6"], ["updated_at", "2018-01-03 10:08:24.771941"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$zoMX.hrRCKqGLelePKW8sumalTn4MENn/uKnc5YSScvBpDQVIp0ze"], ["updated_at", "2018-01-03 10:08:24.781795"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (1.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$X5kmTj8g4xIyor6.uITBbe97s2owizEpwRAsfCek0HZpVGAAuQlrC"], ["updated_at", "2018-01-03 10:08:24.798805"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (1.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (1.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$vaDxgzf6C/IKbp3KerM3l.3X6M60G4ZmBQCMydkEa6mO3KW.xZSf6"], ["updated_at", "2018-01-03 10:08:24.926416"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 3.5ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.5ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:24 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:38:25 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:08:25.065157"], ["id", 787258272]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 2.6ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$NgEYEh0VdpAExiilom16yeMTP4sgmwv4LaEWj32hbnqM9kpMeOKGm', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:11:37.719567', '2018-01-03 10:11:37.719567', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$4uC57IRspt24zUAFualuR.oxD3LatKBKUWQ3qSxP.gPXJv6VMS3Li', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:11:37.719567', '2018-01-03 10:11:37.719567', 135138680)[0m
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:37 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (12.4ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (7.9ms)
Completed 200 OK in 326ms (Views: 316.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (9.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:11:38.466614"], ["id", 787258272]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:11:38.508472"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:11:38.557441"], ["updated_at", "2018-01-03 10:11:38.557441"], ["password_digest", "$2a$04$ug3u1ACpZtD1/xLkEg34A.DWx95A2SyAdHQcEUfu3jU4IoHbB3TWO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (13.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 17.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.7ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:11:38.679084"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$cA8S43W5JvxQpalHlKZWnuJ6BvdXlLVLD8KAmvvUNrkXkRmWzNb4S"], ["updated_at", "2018-01-03 10:11:38.693977"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$11oNe00tXBs90uAaAp2ckOtp7G/ai1NKLHnwlBd5EddsPzeC.qxoK"], ["updated_at", "2018-01-03 10:11:38.709227"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$qjsod5kJ5GfEhwH0IplduOxdCpwdTCl.84e1gJvjSmX1wBdb/bpci"], ["updated_at", "2018-01-03 10:11:38.718752"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:11:38.771806"], ["updated_at", "2018-01-03 10:11:38.771806"], ["password_digest", "$2a$04$9ZokIdu7mFK.8S1QEh7/heqbPQw7LMQPnrigdIy6ewoy8695vtgpS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:11:38.792943"], ["updated_at", "2018-01-03 10:11:38.792943"], ["password_digest", "$2a$04$YUCROpow2aMJXFs01ZowPuDRPsP.ag1stbVs8s0ZuuTHgmn/Kgdbm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$vzlQYz9Q0523rXQe/XiE3.E7P3XXekxcqRfWdJ61FYHhlfS1TpOr2"], ["updated_at", "2018-01-03 10:11:38.864856"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$eeklHuaeJJxRv0jLDq/kvuD5IefMOatMMNnCfJfa5JlKi4bQSfe1C"], ["updated_at", "2018-01-03 10:11:38.973528"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:11:38.984861"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:41:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$CZTgf4YEM4oDYusPfJzntuJeprS8o8V/PtUbzGcAiqJfjZb86qTly"], ["updated_at", "2018-01-03 10:11:39.000434"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:41:39 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.7ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$e9VaE26mMXuiQYIKxD4Tw.F6S91yBkQzNI08G4viYudYi3UyLhDdW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:21:02.634828', '2018-01-03 10:21:02.634828', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$lK6kxGu4jpHtOOyyt5w1Zu9chv2dgMiZblWbUXmtd5xCSn04ZdGJW', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 10:21:02.634828', '2018-01-03 10:21:02.634828', 135138680)[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 15:51:02 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.8ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.5ms)
Completed 200 OK in 341ms (Views: 332.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 18ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:21:03.255010"], ["updated_at", "2018-01-03 10:21:03.255010"], ["password_digest", "$2a$04$CoKj9VUDIaZqEvQ0O1c8xuMFOMzLQNg1YiAt7ItrdKiwsdzAYEhku"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 19ms (ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 2], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (17.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$nWTLhGXdAEy1cZc3vW0z0.GIH38lfTSa.E4N5sHwWcnRKIl8zcPey"], ["updated_at", "2018-01-03 10:21:03.314384"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.6ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$k0SznT4fynLd./xp5rLhjOSWNqVFj3KjWg.Hbfg7LJKGwdrYGfWP6"], ["updated_at", "2018-01-03 10:21:03.440150"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 2.2ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 10:21:03.457960"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$4QY3T5v0W.A9EKKWpzPwiuC0HrAq8vZrJk.1eBuGZcm89211lu4zO"], ["updated_at", "2018-01-03 10:21:03.471788"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HXyFNoISAW1bUPS9guiS1OmBTNIg6Ju4ifxGuwc.DPFRsm7QPPgnK"], ["updated_at", "2018-01-03 10:21:03.494193"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$UeJP0P4lu8moJ4BxzE3gkuWUCJK5rxGw2pqg7FlpjQ2IkE3MXQTiO"], ["updated_at", "2018-01-03 10:21:03.504043"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (6.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 10:21:03.560969"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 10:21:03.687123"], ["updated_at", "2018-01-03 10:21:03.687123"], ["password_digest", "$2a$04$9Xp5FWMxMHAdF5z6Fx7oaucsMLWxpNRMXs539UyPx70aDxWp1wxHS"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 10:21:03.748886"], ["updated_at", "2018-01-03 10:21:03.748886"], ["password_digest", "$2a$04$ovc2T6ifzEVPqgmWfJR4oeX1bJuiKmqXUnwN52ENn6c0cjcOUCVXa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (6.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 10:21:03.858292"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 10:21:03.905880"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 15:51:03 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$0ZHNH8cDLgXXequOB9A0CeOPZg3lxp4E2/CvIfRNvG.4GnlEM8Wnm', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:46:56.037726', '2018-01-03 11:46:56.037726', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$/QYD0a0/oMwyA3Q75iQ8dOPf4r411Dz7GLE0gjifLegL0qgb3qYkC', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:46:56.037726', '2018-01-03 11:46:56.037726', 135138680)[0m
  [1m[35m (48.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$5WqMkrSqFWHbn7UjNRcuZ.1Xl2YoR5Fie6W5xwgO/g12hzmj8Ir86"], ["updated_at", "2018-01-03 11:46:56.125315"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Qk65X.dRn5N0oLyayqSjeeMwgs4lS/6C7BmNYam5mYQcRslIP/Gbu"], ["updated_at", "2018-01-03 11:46:56.136856"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$DXQAK13jCLRR3aGkFbmxCO.TpZJ0GU5Q3lgS.nePX3GkBrGaTvCkC"], ["updated_at", "2018-01-03 11:46:56.152837"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.8ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 326ms (Views: 316.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (13.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
Completed 200 OK in 22ms (Views: 17.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:46:56.749008"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:46:56.871756"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:46:56.919029"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:16:56 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:46:57.068071"], ["updated_at", "2018-01-03 11:46:57.068071"], ["password_digest", "$2a$04$crWDV2drh1IxX691xmxwZukv0H1dgSjLRa2bgdXbjnGRRHvtyIip."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:46:57.084648"], ["updated_at", "2018-01-03 11:46:57.084648"], ["password_digest", "$2a$04$mxT36qYWeitsZfs/M2NB7./A41bUM890IG5laxw2s/1NjFHlhTN3a"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rtxmcUelRrF9cODeDdKl3uuIq3wnj1UdzR5vJDViwU0dw.swKAC56"], ["updated_at", "2018-01-03 11:46:57.134867"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$VMwTClDTFrd03IuP6T7Y..2EAvflDvqpcC/eL9Vy4HT0CGS2SuKja"], ["updated_at", "2018-01-03 11:46:57.180015"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:46:57.194320"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.9ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:46:57.288781"], ["updated_at", "2018-01-03 11:46:57.288781"], ["password_digest", "$2a$04$vOINIQGgUr/h7MmFVFroheYJZkXIOZ5yqnNZCI66Z7lTrJERXnRwa"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:16:57 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.9ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$HpKWRSqGtursvHt3MYV8ieAAwXVKHZBgvSSam9gTNrM35zAr09a.u', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:47:33.186117', '2018-01-03 11:47:33.186117', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$KbTstfrvSdrEoVRa2Nz1zOO/k4jilEtcx19VtwfRgFVyWPLS3ORdS', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:47:33.186117', '2018-01-03 11:47:33.186117', 135138680)[0m
  [1m[35m (48.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (7.5ms)
Completed 200 OK in 266ms (Views: 257.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 43ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:47:33.765038"], ["updated_at", "2018-01-03 11:47:33.765038"], ["password_digest", "$2a$04$39f19/LHwpacRq2HAF82kOj.fZ2VV82kDcv3R4jD.2MmoqP7by.dW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$NT2cHmITOn371h7Y.vIVPO0axf5AFwA/aIPKHiV6WN0gIXNTwLH1W"], ["updated_at", "2018-01-03 11:47:33.868308"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$LXKVQFP91U9xSVvjiV1IjeFajtE6NZMhZD4CWnhy8b5.3NwZTNHyK"], ["updated_at", "2018-01-03 11:47:33.917079"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:47:33.932443"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:33 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$2dkIhRcRAwvFXCfBkCNb9.T/wj6.hJDhlbJ7C7MoRxR5hut2yVFb2"], ["updated_at", "2018-01-03 11:47:34.008161"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$G0mS8D8KRwPLLTRvws0.auAPwXQ29tEVQTszcZKdVKZZSSrAa6N1a"], ["updated_at", "2018-01-03 11:47:34.014780"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$XsbtcE2/a/CBLRe9fkith.jcXOcE24qo8iosm2bmJl16zkppRkzY."], ["updated_at", "2018-01-03 11:47:34.028392"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$hY27l2kskkFSNDq.ukILPOMPysfwL1AOa5wfANQEARYrZi26cG8YK"], ["updated_at", "2018-01-03 11:47:34.051483"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:47:34.149514"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:47:34.246503"], ["updated_at", "2018-01-03 11:47:34.246503"], ["password_digest", "$2a$04$hP34N.6a3vZAJPxqsR7gZuIYZ3cZVhxgDp5MW.4HBzvknjbOng65O"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:47:34.262296"], ["updated_at", "2018-01-03 11:47:34.262296"], ["password_digest", "$2a$04$ILyvof.wkWOJvFEwK12AB.KINWhFk/CtAMrMqM9Ew05gJjLZn6O/G"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.5ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:47:34.400534"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:47:34.445727"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:34 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$yAM5TSFMfneSSPyFxh4rsus19Sf5I5OT5wnhO7Z5W9F/5f2drJubW', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:47:54.653433', '2018-01-03 11:47:54.653433', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$/X9xTOTbvVdRQMi3Oj1ZceQL6rJeDHrr5rlpbGMTclKOVSmEBHCTe', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:47:54.653433', '2018-01-03 11:47:54.653433', 135138680)[0m
  [1m[35m (93.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:54 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (8.5ms)
Completed 200 OK in 281ms (Views: 270.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:47:55.231369"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:47:55.457595"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:47:55.516584"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$MWxJ2RQiDXnoLMqHaEi5XeDgc/KAmVgtQEkpo42mFH.Lfsg7KLj3G"], ["updated_at", "2018-01-03 11:47:55.538183"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:47:55.584085"], ["updated_at", "2018-01-03 11:47:55.584085"], ["password_digest", "$2a$04$shVVGjWKQBJ1n3gHS8Xa..IACx8DAAGzfga0T8fDBkZiukXYZhP7O"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$om65znlSOiugFu0PH.4oZuXsops9Fxic1isM90jJksnht7F.Md/WW"], ["updated_at", "2018-01-03 11:47:55.690581"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$v9nmgLXTgfAROY.1aW9yielPBtmunC3gtYslXA2NAdMla6a2vESdu"], ["updated_at", "2018-01-03 11:47:55.743450"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:17:55 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:47:55.754600"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:47:55.784006"], ["updated_at", "2018-01-03 11:47:55.784006"], ["password_digest", "$2a$04$4MpACS0.LsNnElJ9SyrPd.4Kfc9yBsj/a9EbSjLvvaInbGbdYGeVm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:47:55.878590"], ["updated_at", "2018-01-03 11:47:55.878590"], ["password_digest", "$2a$04$Fw9hga/fuaZXETeppLh.6.HxRMb9g1h.ww1nx334F59MW1ViKR8T6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$sc3LremxKAGRJ0/vrzOBX.cNrlOPDmd1kTSZbDwTPhbGU8kw2xwdi"], ["updated_at", "2018-01-03 11:47:55.894151"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$flzKcDlRau7RFVGbADGmeOhxSSWGCgI0EgWTo4Cx3WwHIT8OEPQAa"], ["updated_at", "2018-01-03 11:47:55.901525"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$6x556hmeL0TWoOYCp/OvpO564AdaoGbhw47aut7dXKZ2IXLiH8Ia6"], ["updated_at", "2018-01-03 11:47:55.912654"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$d.KvYU5QemUC3j9JiuBL1uBhJHBJZgtvy7NkKkhIoV2zvQVQYEk8a', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:48:52.392867', '2018-01-03 11:48:52.392867', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$hOxleZirvqJbpxfd0ODPbOnb1lOa7N6H2WxVBygzpPNnwNf7rjKCy', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:48:52.392867', '2018-01-03 11:48:52.392867', 135138680)[0m
  [1m[35m (77.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$M6lksqhxWh4zXf0MWKrP5eK1.SAR9BfBhkfEVed6uMXcr0S7N7QWu"], ["updated_at", "2018-01-03 11:48:52.507856"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rVIJJEfMgDQqh0.wGVftmex5U66tb8hmNISqD0Qmh2D3ZFccjDuuO"], ["updated_at", "2018-01-03 11:48:52.518764"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$FsWx.LFw6QAAxi886GOvjuJp6wzpvjJt2m3nZDP.hhcjo1akEyrqC"], ["updated_at", "2018-01-03 11:48:52.536783"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (17.2ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
Completed 200 OK in 268ms (Views: 258.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:48:52.964175"], ["updated_at", "2018-01-03 11:48:52.964175"], ["password_digest", "$2a$04$vZiMmS6uTo80j3EF/p3MluKC.3BGhQvHpKdmSmOuiWsyBEHDDIf7m"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:18:52 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (1.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (10.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 47ms (Views: 44.1ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:48:53.145048"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:48:53.205328"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:48:53.246926"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:48:53.261325"], ["updated_at", "2018-01-03 11:48:53.261325"], ["password_digest", "$2a$04$AksMovTdECOHUPn8ktQbuuD1QC/X2UMKYgbvChguwEyNf8hv17htq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:48:53.325357"], ["updated_at", "2018-01-03 11:48:53.325357"], ["password_digest", "$2a$04$RWP5/EHgTpxQM18JtqZJieiSPIUjQF.1q7qmviT0cYTbrPTInD8YG"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$rauejJ4izz5GsMak0fg/X./RmiBVSe2ZjsaiEEdGTRgkZN8G4jQ7a"], ["updated_at", "2018-01-03 11:48:53.445732"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:48:53.459410"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RiNy5Y./0aBwFSeGtreI7ebMVZVs0Mp9axKVTp.9pPMNwuUEPtp5a"], ["updated_at", "2018-01-03 11:48:53.514477"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HFWuL4oQdFZTBupuAQqi1OKkX1ngqBjf45NflUjUfHoViPPhjQmee"], ["updated_at", "2018-01-03 11:48:53.683873"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:18:53 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$KrwaBI9XHnNYMoqsSxm8N.J0LQxfvuxT9SR8zINNuvPV245oGlb76', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:50:57.746550', '2018-01-03 11:50:57.746550', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$7Q7Y4nuM63uDSwRHXyfGju9uQDSVlyc7Y7OSE2bb2Y3VKxS.5VLj2', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:50:57.746550', '2018-01-03 11:50:57.746550', 135138680)[0m
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:57 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (17.3ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (6.3ms)
Completed 200 OK in 275ms (Views: 265.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RE6V3RTcCdFyYRewMM5UiuZuKNEWSGJ.v7dqViXFheYxKHXIHbHc6"], ["updated_at", "2018-01-03 11:50:58.235633"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:50:58.247317"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 28ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$p6.qN0gMVJcq6G9NOVMZkujtpzmlLeUxKEGxWt3TeOezVN/XLHQSm"], ["updated_at", "2018-01-03 11:50:58.363598"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.9ms)
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (7.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:50:58.428769"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:50:58.482292"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (8.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:50:58.614867"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:50:58.666082"], ["updated_at", "2018-01-03 11:50:58.666082"], ["password_digest", "$2a$04$v45lz1FPvalKtbnXnML2P.nXcoLM0IYfp9eOXKrFVR7rW73DvepNq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$LlRjOaUsd7b.ESXmvBszUu3wbkWsMZ/6eUjH4Cyc2kDURZdLOy6jG"], ["updated_at", "2018-01-03 11:50:58.710501"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$09.WLWkEC08fvryasZwjseZcuvYOe6JJBFtOMJjutlYlqrWiv79Gu"], ["updated_at", "2018-01-03 11:50:58.728050"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7JKCBhWggG5bKKJtOXQKq.C9lCCVRkPSnY9OfS5SFRkFdkgYR5Dxm"], ["updated_at", "2018-01-03 11:50:58.736961"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:50:58.753545"], ["updated_at", "2018-01-03 11:50:58.753545"], ["password_digest", "$2a$04$/2rkdA1Pb7Y9MLed4f6ZHuGrsEAxMJzGCX/1Zkw5vOmjQLYjjFLdO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:50:58.777194"], ["updated_at", "2018-01-03 11:50:58.777194"], ["password_digest", "$2a$04$sKFrpDZAbq4MSC2OhdefiuIcHuqagIwcTf0ipgHZ4fHR99gZg7th6"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$PGAZ0mU5OCp7sfbDN6Cx8Od6Pm3Wdf/hUOY4Riz9AZ04/hgS2NgNi"], ["updated_at", "2018-01-03 11:50:58.972787"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:20:58 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$WUduvhK.lr/imvT7VNUOLeCpdvBfCAal/XA6YozfLjOkQbrpZhpeC', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:51:42.969168', '2018-01-03 11:51:42.969168', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$2PPObdp00OIYrH6C/Bo6HOVi6wWqW9Zc/3SF/VJJ37sLD1hotEtA6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:51:42.969168', '2018-01-03 11:51:42.969168', 135138680)[0m
  [1m[35m (73.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (18.9ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (5.7ms)
Completed 200 OK in 306ms (Views: 296.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:51:43.527928"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 15ms (ActiveRecord: 2.3ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:51:43.582282"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 2.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:51:43.658873"], ["updated_at", "2018-01-03 11:51:43.658873"], ["password_digest", "$2a$04$WmKq/1IsBTqau5hscWcd/.2DQL1i2cKAGD0qfPtCYSGZP/u2jZ8wi"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$71JbyCn3aIYUtXXbHpdXxe6QdP9KXDxa/1EZ6O2d9LQYuDsM6dO0S"], ["updated_at", "2018-01-03 11:51:43.734707"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Uq4l433295/dLlGj/fyNPOAWnojOFT.YAANCE1KaPKT5LQjAaLFhK"], ["updated_at", "2018-01-03 11:51:43.749275"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9/g6RlLPcvlOe0M6GK0FOOmm0bp4TzUubiHkz2CFP0R90Ll6omQhu"], ["updated_at", "2018-01-03 11:51:43.756311"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:51:43.810852"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.7ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$XaSUTS3asr6fnJToRQHmVebzq13itwGSyi1gIgyiskWJTp0MRwGKm"], ["updated_at", "2018-01-03 11:51:43.905913"], ["id", 787258272]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 32ms (ActiveRecord: 1.9ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:21:43 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:51:44.334123"], ["updated_at", "2018-01-03 11:51:44.334123"], ["password_digest", "$2a$04$CL6rmiCnGWQG9c49MSObi.mnkHmOxPnZCafxHaczlZ02OaL6Yazc."], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:51:44.375122"], ["updated_at", "2018-01-03 11:51:44.375122"], ["password_digest", "$2a$04$D3L7Utnp01i76fdsSN58K.cdw7wnpyqUFL4XJWPKdl2lDwQWfSUg2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$LeQa8S7qNv3tS8SXOLAhie8ij05dWdwI.u8zjTW6jOvUS7THLUqLq"], ["updated_at", "2018-01-03 11:51:44.544638"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:51:44.563097"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:21:44 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Mv7VcmWJMwcT7jZNEAxUv.Uwfq0e.peIPd2sM8e1pbk2IHPZuHaAm"], ["updated_at", "2018-01-03 11:51:44.618424"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$/Ko3rxSX1BYF7ucS6TW7K.WJkIfyu0DP/Bu8ipeBlQOznTI/bUtse', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:52:38.434051', '2018-01-03 11:52:38.434051', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$XC4Lyi/sdVOEGpNM3cfIje9Pe6a9EFxp9DWUanVWZeWJGoOjHeoH6', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:52:38.434051', '2018-01-03 11:52:38.434051', 135138680)[0m
  [1m[35m (63.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:22:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.0ms)
Completed 200 OK in 309ms (Views: 300.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:38 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:22:38 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:22:38 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:52:38.984995"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:22:38 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:52:39.026199"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$1Dd4lYawUOMXvPf635vNfu2rPXV4m08LrcZgGkhtbNnN5FaNOG5QW"], ["updated_at", "2018-01-03 11:52:39.057118"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.1ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:52:39.086147"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$KRawuzktRP73SuY5ThJmO.9PpzOSTtlasrrX4kZxkPWlFpIehBXlq"], ["updated_at", "2018-01-03 11:52:39.128643"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:52:39.208058"], ["updated_at", "2018-01-03 11:52:39.208058"], ["password_digest", "$2a$04$dIYpm.GO3v8H57yhsEtaUuY/1fZR4ggkDQKS2UFjPhe6OS4RQExLm"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:52:39.241751"], ["updated_at", "2018-01-03 11:52:39.241751"], ["password_digest", "$2a$04$bZTMp7aJ.WWXJGAyk/4QjOOq1P.EfnvKt3f1Hru.BdVLZcKTFonSy"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:52:39.303554"], ["updated_at", "2018-01-03 11:52:39.303554"], ["password_digest", "$2a$04$xnfB3YKPgabS4uZ7bxX.HuYmoaa6dGrsR1Z1Dz7vg/UCU3JSu8Yk2"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$zz5ZWVdVerjwy/7wcA.NGeRWfJM7CqdqW2PAf8S3.yYj24W.2/ozG"], ["updated_at", "2018-01-03 11:52:39.397346"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 18ms (ActiveRecord: 0.8ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$u7y.sCNNynrdkEFX84f69eOsZpHLbjZLvn15GOMPzFIwnd4WHsXoi"], ["updated_at", "2018-01-03 11:52:39.644287"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$bFBE5uBzfw6xOZ3zohkkjujFAaHzLq/z43tRsgERxSbaStebIf9D2"], ["updated_at", "2018-01-03 11:52:39.650971"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$/Slxwf7N3rApbsnYcchjYu3HPulvy0yGtXPVbNeCGgCfKyuzLGFr."], ["updated_at", "2018-01-03 11:52:39.663775"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.4ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:22:39 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:52:39.829400"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$nYAqpOYJBjQ3ybDr84peS.wRjZuPkDLarDwny6IG3tJE9vVwUr3iG', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:53:40.850747', '2018-01-03 11:53:40.850747', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$npwxmkD75QsmT614Vjn5m.HM.bmZtHVfMyiRy86P63vgKf50Oxu0i', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 11:53:40.850747', '2018-01-03 11:53:40.850747', 135138680)[0m
  [1m[35m (70.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.9ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.7ms)
Completed 200 OK in 285ms (Views: 275.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 11:53:41.394500"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.8ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 11:53:41.446092"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$CR96SKZH8FekEmGrp38CN.ZWf1Uk3UmRT0OKbPeX1Yh3853Zwggva"], ["updated_at", "2018-01-03 11:53:41.461398"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$w4sr9wdSYpNJncTz08uXmumWeRpzEYhQTk.MtiO9JGzbyQtqR./uC"], ["updated_at", "2018-01-03 11:53:41.469950"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$36jmQzCt2pOcNDSoFxEWo.HcrjqXJIICdwLpKfKU6LxH0R.hP9Yo2"], ["updated_at", "2018-01-03 11:53:41.480898"], ["id", 787258272]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 11:53:41.560023"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:53:41.759420"], ["updated_at", "2018-01-03 11:53:41.759420"], ["password_digest", "$2a$04$03uFhYYd7J1IdEz/PGgn3eQcp4SSTLu4.mzZbYq9KvjibpZcxKl8S"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 11:53:41.846854"], ["updated_at", "2018-01-03 11:53:41.846854"], ["password_digest", "$2a$04$sziZStPLnk3iz6zRCy1nBO5JiVnb4.6LBfDkdH9tPSl92N0hI.4DC"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 11:53:41.908028"], ["updated_at", "2018-01-03 11:53:41.908028"], ["password_digest", "$2a$04$7cN6wD9S2yfapwtIjdedjuL4K2KlYj46Ub5cTo5gOEiNXkms.4hdO"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$RtxtjTMOzK9y2WbVI3JFDuGKE.B6IqM0qa.YMtT/cUY5ywrfpSt6W"], ["updated_at", "2018-01-03 11:53:41.933555"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:41 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$9D2tU4zt8tbiNn96RiDOrurtHk87HWYmQuEUs99ZBAP9t8dtSizwa"], ["updated_at", "2018-01-03 11:53:42.025996"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 11:53:42.039363"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Pt/hfMRQn5MsqYseD3Clgebyo01ttuT9QWI5ro6XbFV7gjI5nT7HK"], ["updated_at", "2018-01-03 11:53:42.057852"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.8ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:23:42 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$tRdeTc4C3L8/IQoPqllvDubUXw4S8JxpNSgKuPTEKskS3gGa4bMza', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 12:00:24.310258', '2018-01-03 12:00:24.310258', 787258272)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$LZZdjuYGWtljlgWnwuPYmebzeLqQRvnW9qh/EibDu/tMgeXVMs9hm', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-03 12:00:24.310258', '2018-01-03 12:00:24.310258', 135138680)[0m
  [1m[35m (56.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (11.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (5.6ms)
Completed 200 OK in 306ms (Views: 297.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$OZdHzz6TZoIaYIVDxt6zdecoA3blrPqdg0lzfJqgiOPnKccFqtcda"], ["updated_at", "2018-01-03 12:00:24.840533"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$jOjzHS0uZ/1NVCjp19X/Q.Q34wMnNatKCdCKL6qw6PBtfv.0uxdKK"], ["updated_at", "2018-01-03 12:00:24.848273"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$vldIqQdTasq3s5YeDpw5WOzxJfbCwl5v33Td2cnUhhh1MD/wP9ze."], ["updated_at", "2018-01-03 12:00:24.871903"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/home" for 127.0.0.1 at 2018-01-03 17:30:24 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$pdA2yjK1xX0LQ03.t9FzJeQosEiCh/3PjpYTnByswnytwb5JJEkVO"], ["updated_at", "2018-01-03 12:00:25.030408"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-03 12:00:25.046528"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.9ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$7C1iaiKn3.E.EoFUG0Ih.OaGAzGBKqwxIu5Jfp6rhEMOdnwtYgVn."], ["updated_at", "2018-01-03 12:00:25.116963"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 14ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 12:00:25.179589"], ["updated_at", "2018-01-03 12:00:25.179589"], ["password_digest", "$2a$04$iTiswl/B8dAXjgO.8OJV6eRypf10f9hGMfCx533VwbZUEsNQWtW4O"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 16ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (5.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-03 12:00:25.241947"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-03 12:00:25.283331"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-03 12:00:25.310262"], ["updated_at", "2018-01-03 12:00:25.310262"], ["password_digest", "$2a$04$U7HHHypCPn2U63Yvd8DhuOTZbH56y0gSjeFLoCKbasGktDeh.sHAW"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-03 12:00:25.340264"], ["updated_at", "2018-01-03 12:00:25.340264"], ["password_digest", "$2a$04$35z4tLKML3PC//VjutUcIuE8PCoTdGX5g5C1eXl4dITGfxPmpVBzu"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$CeD2m5ZfloK71Q5INqtBDOTyICd4IZuMatDOKrdOin5UIAQxQy.H2"], ["updated_at", "2018-01-03 12:00:25.413221"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-03 12:00:25.538283"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-03 17:30:25 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "employees"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "address", "created_at", "updated_at", "id") VALUES ('Example', 'example@mail.com', '$2a$04$vvl.40K14RMjpizC/Ay4juyPbDy.3GG2Uojq.q9S.iYZG8KrS2vMq', 'example@mail.com', 't', 'male', 'developer', '9876543210', '2017-12-20', '1995-12-06', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-04 04:50:08.077899', '2018-01-04 04:50:08.077899', 787258272)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "username", "active", "gender", "designation", "phone", "dateofjoin", "dateofbirth", "admin", "address", "created_at", "updated_at", "id") VALUES ('Admin', 'admin@mail.com', '$2a$04$M0SvZ8cClVrsqI/.jDHSX.R/O4KucXi2/jebfreBGeDmGF3ChoO8.', 'admin@mail.com', 't', 'male', 'developer', '9876543219', '2017-12-20', '1995-12-06', 't', 'sdgfbdvnkwljes gjgjghvmhg gjmhgmjmhnfnbf, utjtjhg, jhtkujtuuk', '2018-01-04 04:50:08.077899', '2018-01-04 04:50:08.077899', 135138680)[0m
  [1m[35m (86.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
EmployeesEditTest: test_successful_edit
---------------------------------------
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-04 10:20:08 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (141.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (4.9ms)
Completed 200 OK in 533ms (Views: 521.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (15.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 19.6ms | ActiveRecord: 0.2ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@bar.com", "designation"=>["developer", "12/11/2017", "10/12/1994", "foo@bar.com"], "dateofjoin"=>"12/11/2017", "dateofbirth"=>"10/12/1994", "personalemail"=>"foo@bar.com", "username"=>"foobar"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", "1994-12-10"], ["personalemail", "foo@bar.com"], ["updated_at", "2018-01-04 04:50:09.400494"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 26ms (ActiveRecord: 1.3ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeesEditTest: test_unsuccessful_edit
-----------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/employees/787258272/edit" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/edit.html.erb within layouts/application
  Rendered employees/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
Started PATCH "/employees/787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "dateofbirth"=>"tyu", "personalemail"=>"foo@invalid", "username"=>"user"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Unpermitted parameters: :email, :designation, :dateofjoin, :username
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "example@mail.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "dateofbirth" = ?, "personalemail" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["dateofbirth", nil], ["personalemail", "foo@invalid"], ["updated_at", "2018-01-04 04:50:09.452020"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_sucessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.3ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid.com", "designation"=>"foobar", "dateofjoin"=>"12/11/2017", "gender"=>"male", "address"=>"invalid, invalid city,invalid square", "active"=>"true"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid.com"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "designation" = ?, "email" = ?, "dateofjoin" = ?, "address" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["designation", "foobar"], ["email", "foo@invalid.com"], ["dateofjoin", "2017-11-12"], ["address", "invalid, invalid city,invalid square"], ["updated_at", "2018-01-04 04:50:09.516928"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------
AdminEditTest: test_uncessfull
------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
Started PATCH "/adminedit?id=787258272" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#update as HTML
  Parameters: {"employee"=>{"email"=>"foo@invalid", "designation"=>"foo", "dateofjoin"=>"qwe", "gender"=>"que", "address"=>"invalid", "active"=>"new"}, "id"=>"787258272"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) AND ("employees"."id" != ?) LIMIT ?[0m  [["email", "foo@invalid"], ["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? AND ("employees"."id" != ?) LIMIT ?[0m  [["phone", "9876543210"], ["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminedit
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
AdminControllerTest: test_should_get_new
----------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------
AdminPageTest: test_paginate
----------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$F6QUATef2sbbOeZbyrqzjeQ.yTwhVjoZZF5P2pzXdlxZnZiXg8Uem"], ["updated_at", "2018-01-04 04:50:09.587015"], ["id", 787258272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.7ms)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
AdminLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AdminLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/adminhome
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/adminhome" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
  Rendering admin/home.html.erb within layouts/application
  Rendered admin/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 135138680], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
AdminsessionControllerTest: test_should_get_new
-----------------------------------------------
Started GET "/adminlogin" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminsessionController#new as HTML
  Rendering adminsession/new.html.erb within layouts/application
  Rendered adminsession/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
EmployeesLoginTest: test_login_with_invalid_information
-------------------------------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeesLoginTest: test_login_with_remembering
-----------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$ChaCd5g503lo97EfDm5pbus3XHyhwEpCdLODqMi0XZv7gNOQmf9xm"], ["updated_at", "2018-01-04 04:50:09.765509"], ["id", 787258272]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
EmployeesLoginTest: test_login_with_valid_information_followed_by_logout
------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/home" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  Rendering employees/home.html.erb within layouts/application
  Rendered employees/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Redirected to http://www.example.com/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesLoginTest: test_login_without_remembering
--------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$Rs6tFAf5NRPaHHwzmWPf/u9advEqimN4LiG9bDttgqkKr4KJUCZyO"], ["updated_at", "2018-01-04 04:50:09.820571"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started POST "/login" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example@mail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."email" = ? LIMIT ?[0m  [["email", "example@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-04 04:50:09.832800"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
EmployeesSignupTest: test_invalid_signup_information
----------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"", "email"=>"user@invalid", "designation"=>"qaz", "phone"=>"123aw12902", "gender"=>"m", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"j", "username"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@invalid"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "123aw12902"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addemployee
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
EmployeesSignupTest: test_valid_signup_information
--------------------------------------------------
Started GET "/addemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#addemployee as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started POST "/addemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#create as HTML
  Parameters: {"employee"=>{"name"=>"Example User", "email"=>"user@example.com", "designation"=>"tester", "phone"=>"1234567890", "gender"=>"male", "dateofjoin"=>"12/11/2017", "address"=>"qwerty", "active"=>"true", "username"=>"username", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-04 04:50:09.881047"], ["updated_at", "2018-01-04 04:50:09.881047"], ["password_digest", "$2a$04$baIp4AWjjcui4FqtCRDa5uqUXBFdHRv/3ILxesnFCosItc51./1Py"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/adminemployee
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Started GET "/adminemployee" for 127.0.0.1 at 2018-01-04 10:20:09 +0530
Processing by AdminController#index as HTML
  Rendering admin/index.html.erb within layouts/application
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY created_at DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  Rendered admin/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_nil_when_remember_digest_is_wrong
-----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$BujZM/WxImzmAwyJjw/PfeQYLzNkXlN/N1VLIT8PTK7NVL82825HC"], ["updated_at", "2018-01-04 04:50:09.907062"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$EVNJMEY0P1b8hyMh4dZfRusym.zTWnbnaWUf8pQdaY06PYXrFQbJ2"], ["updated_at", "2018-01-04 04:50:09.912512"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
SessionsHelperTest: test_current_employee_returns_right_user_when_session_is_nil
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "employees" SET "remember_digest" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["remember_digest", "$2a$04$HFVRl4nAddj.xMHFlOQHsudrhAz9/NLxwhiFAk.gXkahEXy6dU5ly"], ["updated_at", "2018-01-04 04:50:09.922619"], ["id", 787258272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
EmployeeTest: test_email_addresses_should_be_unique
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["created_at", "2018-01-04 04:50:09.937448"], ["updated_at", "2018-01-04 04:50:09.937448"], ["password_digest", "$2a$04$XezmLJxYghGO/gbT6htt7..wcRr/g8P6AhQ3xRNQeb.9q5nhnZ7qq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@EXAMPLE.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
EmployeeTest: test_email_should_not_be_too_long
-----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
EmployeeTest: test_email_addresses_should_be_saved_as_lower-case
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "Foo@ExAMPle.CoM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "created_at", "updated_at", "password_digest", "designation", "dateofjoin", "gender", "address", "phone", "active", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "foo@example.com"], ["created_at", "2018-01-04 04:50:09.975083"], ["updated_at", "2018-01-04 04:50:09.975083"], ["password_digest", "$2a$04$n.l.Cjzw.WjdKzDL/6C1fOfUecsYmxtMr8IwUu.8ccyEbyMKq4CJq"], ["designation", "tester"], ["dateofjoin", "2017-11-12"], ["gender", "male"], ["address", "qwerty"], ["phone", "1234567890"], ["active", "t"], ["username", "username"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
EmployeeTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
EmployeeTest: test_authenticated?_should_return_false_for_an_employee_with_nil_digest
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
EmployeeTest: test_email_validation_should_accept_valid_addresses
-----------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "USER@foo.COM"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "A_US-ER@foo.bar.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "first.last@foo.jp"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "alice+bob@baz.cn"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_email_validation_should_reject_invalid_addresses
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar_baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
EmployeeTest: test_name_should_be_present
-----------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
EmployeeTest: test_email_should_be_present
------------------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
EmployeeTest: test_should_be_valid
----------------------------------
  [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE LOWER("employees"."email") = LOWER(?) LIMIT ?[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."phone" = ? LIMIT ?[0m  [["phone", "1234567890"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 787258272], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2018-01-04 10:20:10 +0530
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_shim.html.erb (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
